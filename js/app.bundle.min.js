function fullyVisible(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}(()=>{const t=(t,e=document)=>e.querySelector(t),e=(t,e=document)=>Array.from(e.querySelectorAll(t)),n=window.location.search.includes("debug=1")||window.location.hash.includes("debug"),a=Object.freeze({language:1,multiplier:2}),o=t=>"string"==typeof t?t.trim().toLowerCase():"",s=(t,e)=>{const n=o(e);if(!t||!n)return null;const a=Array.from(t.attributes||[]);for(const t of a){const e=/^data-item-custom(\d+)-role$/i.exec(t.name);if(!e)continue;if(o(t.value)!==n)continue;const a=parseInt(e[1],10);if(Number.isFinite(a)&&a>0)return a}return null},i=["fr","en"],r="fr",d=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,c=()=>{const e=t("header");return e?e.offsetHeight:0};window.whenSnipcart=t=>{if(window.Snipcart&&window.Snipcart.store&&window.Snipcart.api)return void t();const e=setInterval(()=>{window.Snipcart&&window.Snipcart.store&&window.Snipcart.api&&(clearInterval(e),t())},200)},window.GD=Object.assign(window.GD||{},{qs:t,qsa:e,log:(...t)=>{if(n)try{console.log("[GD]",...t)}catch(t){}},throttle:(t,e=100)=>{let n=0,a=null;return function(...o){const s=Date.now();s-n>=e?(n=s,t.apply(this,o)):a||(a=setTimeout(()=>{n=Date.now(),a=null,t.apply(this,o)},e-(s-n)))}},debounce:(t,e=120)=>{let n;return function(...a){clearTimeout(n),n=setTimeout(()=>t.apply(this,a),e)}},createEl:(t,e={},n=[])=>{const a=document.createElement(t);return Object.entries(e).forEach(([t,e])=>{"class"===t?a.className=e:"style"===t?Object.assign(a.style,e):null!=e&&a.setAttribute(t,e)}),[].concat(n).forEach(t=>{"string"==typeof t?a.appendChild(document.createTextNode(t)):t&&a.appendChild(t)}),a},getLang:()=>{const t=localStorage.getItem("lang"),e=(t=>{try{const e=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]+)`));return e?e[1]:null}catch(t){return null}})("lang"),n=document.documentElement.lang,a=(t||e||n||r).toLowerCase();return i.includes(a)?a:r},setLang:t=>{const e=i.includes(t)?t:r;return localStorage.setItem("lang",e),localStorage.setItem("snipcartLanguage",e),((t,e,n=31536e3)=>{try{document.cookie=`${t}=${e};path=/;max-age=${n}`}catch(t){}})("lang",e),document.documentElement.lang=e,e},smoothScrollTo:(t,e={})=>{const n=Math.max(0,t.getBoundingClientRect().top+window.pageYOffset-(e.offset??c()+12));d?window.scrollTo(0,n):window.scrollTo({top:n,behavior:"smooth"})},getHeaderOffset:c,focusTrap:t=>{let n=[],a=null,o=null;const s=t=>{"Tab"===t.key&&n.length&&(t.shiftKey&&document.activeElement===a?(t.preventDefault(),o.focus()):t.shiftKey||document.activeElement!==o||(t.preventDefault(),a.focus()))};return{mount(){n=e('a[href], button:not([disabled]), select, textarea, input, [tabindex]:not([tabindex="-1"])',t),[a]=n,o=n[n.length-1],t.addEventListener("keydown",s)},unmount(){t.removeEventListener("keydown",s)}}},customFields:{indexesByRole:a,normalizeRole:o,findIndexOnButton:s,resolveIndex:(t,{button:e=null,fallbackIndexes:n=[],position:i=0}={})=>{if(!t)return null;const r=parseInt(t.dataset?.customIndex??"",10);if(Number.isFinite(r)&&r>0)return r;const d=o((t.dataset?.itemCustomRole??t.dataset?.customRole)||"");if(d){const t=s(e,d);if(Number.isFinite(t)&&t>0)return t;const n=a[d];if(Number.isFinite(n)&&n>0)return n}if(Array.isArray(n)&&n.length>0){const t=n[i];if(Number.isFinite(t)&&t>0)return t;const e=n[n.length-1];if(Number.isFinite(e)&&e>0)return e}return null}}})})(),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("header");if(!t)return;const e=()=>{const e=t.getBoundingClientRect().height||96;document.documentElement.style.setProperty("--header-height",`${e}px`),document.documentElement.style.setProperty("--gd-header-h",`${e}px`)};e(),new ResizeObserver(e).observe(t),window.addEventListener("resize",e)}),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("lang-switcher");let e=window.GD.getLang();["fr","en"].includes(e)||(e="fr"),e=window.GD.setLang(e);var n,a;n=e,document.querySelectorAll(".flag-btn[data-lang]").forEach(t=>{t.dataset.lang===n?t.setAttribute("aria-current","true"):t.removeAttribute("aria-current")}),whenSnipcart(()=>window.Snipcart.api.session.setLanguage(e)),document.querySelectorAll(".flag-btn[data-lang]").forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.lang;window.GD.setLang(e);let n=window.location.pathname;if("fr"!==e){const t=new URLSearchParams(window.location.search);t.set("lang",e),n+="?"+t.toString()}window.location.hash&&(n+=window.location.hash),window.location.href=n})}),a=e,fetch(`/lang/${a}.json`).then(t=>t.ok?t.json():null).then(t=>{if(!t)return;window.i18n=t,document.querySelectorAll("[data-i18n]").forEach(e=>{const n=e.dataset.i18n.split(".");let a=t;n.forEach(t=>{a&&(a=a[t])}),null!=a&&(e.innerHTML=a)}),document.querySelectorAll("[data-name-fr]").forEach(t=>{const e="en"===a?t.dataset.nameEn:t.dataset.nameFr;e&&(t.innerHTML=e)}),document.querySelectorAll("[data-desc-fr]").forEach(t=>{}),document.querySelectorAll("[data-alt-fr]").forEach(t=>{const e="en"===a?t.dataset.altEn:t.dataset.altFr;e&&t.setAttribute("alt",e)});const e=/(multiplicat(eur|or)|multiplier)/i,n=window.GD?.customFields||{},o="function"==typeof n.findIndexOnButton?n.findIndexOnButton:()=>null;document.querySelectorAll(".snipcart-add-item").forEach(n=>{"en"===a?(n.dataset.itemNameEn&&n.setAttribute("data-item-name",n.dataset.itemNameEn),n.dataset.itemDescriptionEn&&(n.dataset.itemDescription=n.dataset.itemDescriptionEn,n.setAttribute("data-item-description",n.dataset.itemDescriptionEn))):(n.dataset.itemNameFr&&n.setAttribute("data-item-name",n.dataset.itemNameFr),n.dataset.itemDescriptionFr&&(n.dataset.itemDescription=n.dataset.itemDescriptionFr,n.setAttribute("data-item-description",n.dataset.itemDescriptionFr)));const s=o(n,"multiplier"),i=(()=>{const t=Number.parseInt(s,10);return Number.isFinite(t)&&t>0?t:null})();if(null!==i&&n.hasAttribute(`data-item-custom${i}-name`)&&t?.product?.multiplier){const a=n.getAttribute(`data-item-custom${i}-name`)||"",o=n.dataset[`itemCustom${i}Role`]||"",s=o&&"multiplier"===o.toLowerCase()||n.hasAttribute("data-multiplier-label")||n.dataset.multiplierLabel&&["1","true","yes","oui"].includes(n.dataset.multiplierLabel.toLowerCase()),r=e.test(a);(s||r)&&n.setAttribute(`data-item-custom${i}-name`,t.product.multiplier)}}),document.querySelectorAll('[data-role^="multiplier-"]').forEach(t=>{const{role:e}=t.dataset,n=e?.split("-")[1];n&&t.closest(".multiplier-wrapper")?.classList.toggle("hidden",n!==a)}),"function"==typeof window.updatePlus&&document.querySelectorAll(".btn-shop[data-item-id]").forEach(t=>{window.updatePlus(t.dataset.itemId)})}).catch(()=>{t&&t.classList.add("hidden")})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".fade-up").forEach(t=>{new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&t.target.classList.add("animate")})},{threshold:.1}).observe(t)}),document.body.addEventListener("click",t=>{const e=t.target.closest('a[href^="#"]:not([href="#"])');if(!e)return;const n=e.getAttribute("href").slice(1),a=document.getElementById(n);a&&(t.preventDefault(),window.GD.smoothScrollTo(a),e.matches("nav .nav-link")&&(document.querySelectorAll("nav .nav-link.is-active").forEach(t=>t.classList.remove("is-active")),e.classList.add("is-active")))},{passive:!1})}),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("menu-btn"),e=document.getElementById("mobile-menu"),n=document.getElementById("menu-overlay"),a=document.getElementById("menu-close");if(!t||!e||!n)return;const o=window.GD.focusTrap(e),s=()=>{e.classList.add("translate-x-full"),e.classList.remove("translate-x-0"),n.classList.remove("opacity-100"),n.classList.add("opacity-0"),n.addEventListener("transitionend",()=>n.classList.add("hidden"),{once:!0}),e.addEventListener("transitionend",()=>{e.classList.add("hidden")},{once:!0}),t.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true"),o.unmount(),t.focus()};t.addEventListener("click",()=>{"true"===t.getAttribute("aria-expanded")?s():(()=>{e.classList.remove("hidden"),n.classList.remove("hidden"),requestAnimationFrame(()=>{e.classList.remove("translate-x-full"),e.classList.add("translate-x-0"),n.classList.remove("opacity-0"),n.classList.add("opacity-100")}),t.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false"),o.mount();const a=e.querySelector("a,button");a&&a.focus()})()}),e.querySelectorAll("a").forEach(t=>t.addEventListener("click",s)),n.addEventListener("click",s),a&&a.addEventListener("click",s),document.addEventListener("keydown",e=>{"Escape"===e.key&&"true"===t.getAttribute("aria-expanded")&&s()})}),document.addEventListener("DOMContentLoaded",()=>{const t=t=>{document.querySelectorAll('nav .nav-link.is-active, nav .nav-link[aria-current="page"]').forEach(t=>{t.classList.remove("is-active"),t.removeAttribute("aria-current")}),t&&(t.classList.add("is-active"),t.setAttribute("aria-current","page"))};document.querySelectorAll("nav .nav-link").forEach(e=>{e.addEventListener("click",n=>{n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||t(e)})});const e=new Map;if(document.querySelectorAll('nav .nav-link[href*="#"]').forEach(t=>{const n=t.getAttribute("href").split("#")[1],a=n&&document.getElementById(n);a&&e.set(a,t)}),e.size){const n=new IntersectionObserver(n=>{let a=null;for(const t of n)t.isIntersecting&&(!a||t.intersectionRatio>a.intersectionRatio)&&(a=t);a&&t(e.get(a.target))},{rootMargin:"0px 0px -55% 0px",threshold:[.25,.5,.75]});e.forEach((t,e)=>n.observe(e))}document.querySelectorAll("nav .relative.group").forEach(t=>{const e=t.querySelector("ul");e&&(t.addEventListener("focusin",()=>e.classList.remove("hidden")),t.addEventListener("focusout",n=>{t.contains(n.relatedTarget)||e.classList.add("hidden")}))})}),document.addEventListener("DOMContentLoaded",()=>{const t=["video1","video2","video3"].map(t=>document.getElementById(t)).filter(Boolean).filter(t=>!t.closest(".hero-videos"));let e,n=0,a=!1;t.forEach(t=>{if(t.closest(".hero-videos"))return void console.log("[GD] Skipping hero video from app.js management:",t);t.dataset.userPaused="false",t.dataset.autoPaused="false";const e=()=>t.classList.add("scale-105","z-10"),n=()=>t.classList.remove("scale-105","z-10");t.addEventListener("play",()=>{e(),t.dataset.userPaused="false",t.dataset.autoPaused="false"}),t.addEventListener("playing",e),t.addEventListener("pause",()=>{n(),"true"===t.dataset.autopausing?t.dataset.autopausing="false":t.dataset.userPaused="true"}),t.addEventListener("ended",n)});const o=new IntersectionObserver(t=>{t.forEach(t=>{const e=t.target;e.closest('[data-managed-by="hero-videos"]')||(t.isIntersecting?"true"===e.dataset.autoPaused&&"true"!==e.dataset.userPaused&&(e.play(),e.dataset.autoPaused="false"):e.paused||(e.dataset.autopausing="true",e.dataset.autoPaused="true",e.pause(),e.classList.remove("scale-105","z-10")))})},{threshold:.2});function s(t){const e=document.querySelector(`.mute-btn[data-video="${t.id}"]`);e&&(e.textContent=t.muted?"ðŸ”‡":"ðŸ”Š")}t.forEach(t=>{t.closest('[data-managed-by="hero-videos"]')||t.closest(".hero-videos")||o.observe(t)});const i=()=>{if(a)return;a=!0;const e=t[n];e&&!e.paused&&(e.muted=!1,s(e))};function r(o){o.muted=!a,o.currentTime=0,o.play().then(()=>{a&&(o.muted=!1),s(o)}).catch(()=>{o.muted=!0,o.play(),s(o)}),o.onended=()=>{n+=1,n<t.length&&e(n)}}["click","touchstart","keydown","wheel"].forEach(t=>window.addEventListener(t,i,{once:!0,passive:!0})),document.querySelectorAll(".mute-btn").forEach(e=>{const n=t.find(t=>t.id===e.dataset.video);n&&e.addEventListener("click",t=>{t.stopPropagation(),n.muted=!n.muted,s(n)})}),e=e=>{const n=t[e];if(!n)return;t.forEach((t,n)=>{n!==e&&(t.pause(),t.currentTime=0)});const a=new IntersectionObserver(t=>{t[0].isIntersecting&&fullyVisible(n)&&(a.disconnect(),r(n))},{threshold:1});a.observe(n)},t.forEach((t,e)=>{t.addEventListener("click",()=>{t.paused?(a||i(),n=e,r(t)):t.pause()})}),t.length&&e(n)}),document.addEventListener("DOMContentLoaded",()=>{const t=window.stock||{},e=t=>{const e=Number.parseInt(t,10);return Number.isFinite(e)&&e>0?e:null},n=window.GD?.customFields||{},a="function"==typeof n.resolveIndex?n.resolveIndex:null,o=e=>{const n=t[e],a=parseInt(document.getElementById(`qty-${e}`)?.textContent||"1",10),o=document.querySelector(`.quantity-btn.plus[data-target="${e}"]`),s=document.querySelector(`.btn-shop[data-item-id="${e}"]`),i=null!=n&&(n<=0||a>=n),r=void 0!==s?.dataset.hidePrice,d=s?parseFloat(s.dataset.itemPrice||"0"):0,c=window.i18n?.product||{},l=c.add||"Ajouter",u=c.insufficientStock||"Stock insuffisant";if(o){const t=a+1;o.disabled=null!=n&&(n<=0||t>n),o.title=o.disabled?u:""}if(s){const t=s.querySelector('[data-i18n="product.add"]');let e=s.querySelector(".price-text");e||(e=document.createElement("span"),e.className="price-text",s.append(" ",e)),s.disabled=i,s.title=i?u:"",t&&(t.textContent=i?u:l),e.textContent=i||r||!d?"":`â€” ${d*a} $`}};window.updatePlus=o,document.querySelectorAll(".quantity-btn").forEach(e=>{e.addEventListener("click",()=>{const n=e.dataset.target,a=document.getElementById(`qty-${n}`);if(!a)return;let s=parseInt(a.textContent,10)||1;const i=t[n];e.classList.contains("minus")?s=Math.max(1,s-1):(null==i||s+1<=i)&&(s+=1),a.textContent=s;const r=document.querySelector(`.btn-shop[data-item-id="${n}"]`);r&&r.setAttribute("data-item-quantity",String(s)),o(n)})}),document.querySelectorAll(".quantity-selector").forEach(t=>{o(t.dataset.id)}),document.querySelectorAll(".btn-shop[data-item-id]").forEach(t=>{const e=t.dataset.itemId;document.querySelector(`.quantity-selector[data-id="${e}"]`)||o(e)});const s=(t,{onUpdate:n}={})=>{document.querySelectorAll(t).forEach(t=>{const s=t.dataset.target;if(!s)return;const i=document.querySelector(`.btn-shop[data-item-id="${s}"]`),r=a?a(t,{button:i}):null;let d=e(r);d||(d=e(t.dataset.customIndex)??1),t.dataset.customIndex=String(d);const c=()=>{const e=parseInt(document.getElementById(`qty-${s}`)?.textContent||"1",10);i&&(i.setAttribute(`data-item-custom${d}-value`,t.value),i.setAttribute("data-item-quantity",String(e)),"function"==typeof n&&n({id:s,addBtn:i,select:t,value:t.value,index:d})),o(s)};c(),t.addEventListener("change",c)})};s(".multiplier-select",{onUpdate:({addBtn:t})=>{const e="en"===document.documentElement.lang?"itemNameEn":"itemNameFr",n=t.dataset.gdBaseName||t.getAttribute("data-item-name")||"";!t.dataset.gdBaseName&&n&&(t.dataset.gdBaseName=n);const a=t.dataset[e]||t.dataset.gdBaseName||n;a&&t.setAttribute("data-item-name",a)}}),s(".language-select"),s(".triptych-select"),document.querySelectorAll(".swiper").forEach(t=>{if(t.classList.contains("swiper-thumbs"))return;const e=t.parentElement.querySelector(".swiper-thumbs");if(e){const n=new Swiper(e,{slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(t,{loop:!0,autoplay:{delay:5e3},navigation:{nextEl:t.querySelector(".swiper-button-next"),prevEl:t.querySelector(".swiper-button-prev")},thumbs:{swiper:n}})}else new Swiper(t,{loop:!0,autoplay:{delay:5e3},navigation:{nextEl:t.querySelector(".swiper-button-next"),prevEl:t.querySelector(".swiper-button-prev")}})}),window.Fancybox&&Fancybox.bind("[data-fancybox]",{backdrop:"blur",dragToClose:!0,closeButton:"top",placeFocusBack:!0,on:{close:()=>window.history.back()}})}),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".snipcart-checkout"),e=document.querySelectorAll(".snipcart-customer-signin"),n=()=>"visible"===window.Snipcart?.store?.getState()?.cart?.status,a=()=>"visible"===window.Snipcart?.store?.getState()?.customer?.status;t.forEach(t=>t.addEventListener("click",t=>{window.Snipcart?.store&&window.Snipcart?.api?.theme&&n()&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),window.Snipcart.api.theme.cart.close(),t.currentTarget.blur())})),e.forEach(t=>t.addEventListener("click",t=>{window.Snipcart?.store&&window.Snipcart?.api?.theme&&a()&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),window.Snipcart.api.theme.customer.close(),t.currentTarget.blur())}));const o=()=>{const o=n(),s=a();t.forEach(t=>t.classList.toggle("is-active",o)),e.forEach(t=>t.classList.toggle("is-active",s))};window.addEventListener("snipcart.ready",o),window.addEventListener("snipcart.opened",o),window.addEventListener("snipcart.closed",o);!function t(){window.Snipcart&&window.Snipcart.store?(()=>{try{const{store:t}=window.Snipcart;t&&t.subscribe(()=>o())}catch(t){}})():setTimeout(t,300)}()}),document.addEventListener("DOMContentLoaded",()=>{if(!("loading"in HTMLImageElement.prototype)){const t=document.querySelectorAll('img[loading="lazy"]');if(!t.length)return;const e=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(!t.isIntersecting)return;const n=t.target,{src:a}=n.dataset,{srcset:o}=n.dataset;a&&(n.src=a),o&&(n.srcset=o),e.unobserve(n)})},{rootMargin:"100px 0px"});t.forEach(t=>e.observe(t))}}),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("back-to-top");if(t){t.addEventListener("click",t=>{t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});const e=throttle(()=>{t.classList.toggle("opacity-0",window.pageYOffset<500),t.classList.toggle("pointer-events-none",window.pageYOffset<500)},100);window.addEventListener("scroll",e,{passive:!0}),e()}document.querySelectorAll("[data-collapse]").forEach(t=>{const e=document.querySelector(t.dataset.collapse);if(!e)return;t.setAttribute("aria-expanded","false"),e.hidden=!0;const n=()=>{e.hidden=!1,t.setAttribute("aria-expanded","true"),e.style.height="auto";const n=`${e.clientHeight}px`;e.style.height="0px",requestAnimationFrame(()=>{e.style.height=n}),e.addEventListener("transitionend",()=>{e.style.height="auto"},{once:!0})},a=()=>{t.setAttribute("aria-expanded","false"),e.style.height=`${e.clientHeight}px`,requestAnimationFrame(()=>{e.style.height="0px"}),e.addEventListener("transitionend",()=>{e.hidden=!0,e.style.height=""},{once:!0})};t.addEventListener("click",e=>{e.preventDefault(),("true"===t.getAttribute("aria-expanded")?a:n)()})})}),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("header");if(!t)return;const e=((t,e=80)=>{let n=0;return()=>{const a=Date.now();a-n>e&&(n=a,t())}})(()=>{t.classList.toggle("shadow-2xl",window.pageYOffset>8),t.classList.toggle("backdrop-blur-md",window.pageYOffset>8)});window.addEventListener("scroll",e,{passive:!0}),e()}),(()=>{const t=window.GD?.customFields||{},e="function"==typeof t.resolveIndex?t.resolveIndex:null,n=()=>{!0!==window.__snipcartQtyPatch&&(document.addEventListener("click",t=>{const n=t.target.closest(".snipcart-add-item");if(!n)return;const a=n.getAttribute("data-item-id")||n.dataset.itemId;if(!a)return;const o=document.getElementById(`qty-${a}`);if(o){const t=parseInt(o.textContent,10);!Number.isNaN(t)&&t>0&&n.setAttribute("data-item-quantity",String(t))}const s=Array.from(document.querySelectorAll("select[data-target]")).filter(t=>t.dataset.target===a);if(s.length){const t=(t=>{const e=[];return Array.from(t.attributes).forEach(t=>{const n=/^data-item-custom(\d+)-/i.exec(t.name);if(!n)return;const a=parseInt(n[1],10);Number.isFinite(a)&&e.push(a)}),e.sort((t,e)=>t-e)})(n),a=n.getAttribute("data-item-name")||"",o=n.dataset.itemNameFr||a,i=n.dataset.itemNameEn||a;s.forEach((s,r)=>{let d=null;if(e&&(d=e(s,{button:n,fallbackIndexes:t,position:r})),!Number.isFinite(d)||d<=0){d=(t=>{const e=parseInt(t,10);return Number.isFinite(e)&&e>0?e:null})(s.dataset.customIndex||"")??t[r]??t[t.length-1]??r+1}s.dataset.customIndex=String(d);const c=null==s.value?"":`${s.value}`;let l=c;if(s.classList.contains("multiplier-select")){const t=c&&""!==`${c}`.trim()?`${c}`:"1";l=t,o&&!n.dataset.gdBaseNameFr&&(n.dataset.gdBaseNameFr=o),i&&!n.dataset.gdBaseNameEn&&(n.dataset.gdBaseNameEn=i);const e=("en"===("en"===document.documentElement.lang?"en":"fr")?n.dataset.gdBaseNameEn||i:n.dataset.gdBaseNameFr||o)||n.dataset.gdBaseName||a||n.getAttribute("data-item-name")||"";e&&(n.dataset.gdBaseName||(n.dataset.gdBaseName=e),n.setAttribute("data-item-name",e)),n.dataset.gdMultiplier=t}n.setAttribute(`data-item-custom${d}-value`,l)})}},{passive:!0}),window.__snipcartQtyPatch=!0)};window.__ensureSnipcartQtyPatch=n;document.addEventListener("DOMContentLoaded",()=>{const t=t=>{const e=t.dataset.target,n=t.dataset.customIndex,a=document.querySelector(`.snipcart-add-item[data-item-id="${e}"]`);a&&n&&a.setAttribute(`data-item-custom${n}-value`,t.value)};document.querySelectorAll("select[data-target][data-custom-index]").forEach(e=>{e.addEventListener("change",()=>t(e)),t(e)}),document.querySelectorAll(".snipcart-add-item").forEach(e=>{e.addEventListener("click",n=>{const a=e.dataset.itemId||e.getAttribute("data-item-id");document.querySelectorAll(`select[data-target="${a}"]`).forEach(e=>t(e))})})}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n,{once:!0}):n()})(),document.addEventListener("DOMContentLoaded",()=>{document.getElementById("snipcart")});const toggleSnipcartScroll=()=>{const t=document.getElementById("snipcart"),e=!!t?.querySelector(".snipcart-order"),n="visible"===window.Snipcart?.store?.getState()?.cart?.status;document.body.classList.toggle("snipcart-open",n&&!e)};window.addEventListener("snipcart.opened",toggleSnipcartScroll),window.addEventListener("snipcart.closed",toggleSnipcartScroll),window.addEventListener("snipcart.ready",()=>{const t=document.getElementById("snipcart");t&&new MutationObserver(toggleSnipcartScroll).observe(t,{childList:!0,subtree:!0}),toggleSnipcartScroll()}),document.addEventListener("DOMContentLoaded",()=>{const t=()=>{const t=document.documentElement.getAttribute("data-cmp-status"),e="#debug"===window.location.hash||window.location.search.includes("debug=1");"error"===t?console.warn("[GD] CMP: Erreur de chargement - Mode dÃ©gradÃ© activÃ©"):"timeout"===t&&e&&console.warn("[GD] CMP: Timeout - Fonctionnement en mode essentiel (debug)")};document.addEventListener("cmpConsentUpdate",t=>{const e=t.detail?.purposes||{};e.analytics,e.marketing,document.dispatchEvent(new CustomEvent("gdConsentUpdate",{detail:{purposes:e,timestamp:Date.now()}}))}),t(),["snipcart_*","PHPSESSID","lang_preference","cart_session"].forEach(t=>{document.documentElement.setAttribute(`data-cookie-essential-${t.replace("*","all")}`,"true")});const e=setInterval(()=>{const n=document.documentElement.getAttribute("data-cmp-status");n&&"unknown"!==n&&(clearInterval(e),t())},500);setTimeout(()=>clearInterval(e),1e4)}),(()=>{function t(t=".hero-text h1",e=50,n=500){const a=document.querySelector(t);if(a&&!a.dataset.typed){const t=a.textContent.trim();a.textContent="",a.dataset.typed="true",a.hasAttribute("data-i18n")&&(a.dataset.originalI18n=a.getAttribute("data-i18n"),a.removeAttribute("data-i18n"));let o=0;const s=()=>{o<t.length&&(a.textContent+=t.charAt(o),o++,setTimeout(s,e))};setTimeout(s,n)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>t()):t(),document.addEventListener("languageChanged",()=>{const e=document.querySelector(".hero-text h1");e&&(e.dataset.typed=!1,e.dataset.originalI18n&&e.setAttribute("data-i18n",e.dataset.originalI18n),setTimeout(()=>t(),100))}),window.initTypewriterTitle=t})(),(()=>{class t{constructor(){this.nav=document.querySelector(".shop-quick-links"),this.hero=document.querySelector("section.min-h-screen"),this.links=this.nav?Array.from(this.nav.querySelectorAll('a[href^="#"]')):[],this.sections=[],this.isSticky=!1,this.scrollThreshold=0,this.nav&&this.hero&&this.init()}init(){this.updateScrollThreshold(),this.links.forEach(t=>{const e=t.getAttribute("href").substring(1),n=document.getElementById(e);n&&this.sections.push({id:e,element:n,link:t})}),window.addEventListener("scroll",this.handleScroll.bind(this),{passive:!0}),window.addEventListener("resize",this.debounce(()=>this.updateScrollThreshold(),200)),this.links.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const n=t.getAttribute("href").substring(1),a=document.getElementById(n);if(a){const t=a.offsetTop-(this.isSticky?this.nav.offsetHeight+parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height")||"0"):0);window.scrollTo({top:t,behavior:"smooth"})}})}),this.handleScroll()}updateScrollThreshold(){this.hero&&(this.scrollThreshold=this.hero.offsetHeight-100)}handleScroll(){const t=window.scrollY||window.pageYOffset;t>this.scrollThreshold&&!this.isSticky?(this.nav.classList.add("sticky-active"),this.isSticky=!0):t<=this.scrollThreshold&&this.isSticky&&(this.nav.classList.remove("sticky-active"),this.isSticky=!1),this.isSticky&&this.updateActiveSection(t)}updateActiveSection(t){let e=null;const n=this.nav.offsetHeight+parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height")||"0")+50;for(let a=this.sections.length-1;a>=0;a--){const o=this.sections[a];if(t>=o.element.offsetTop-n){e=o;break}}this.links.forEach(t=>t.classList.remove("active")),e&&e.link.classList.add("active")}debounce(t,e){let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),t(...a)},e)}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>new t):new t})();