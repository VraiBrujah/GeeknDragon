function fullyVisible(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(()=>{const e=(e,t=document)=>t.querySelector(e),t=(e,t=document)=>Array.from(t.querySelectorAll(e)),n=Object.freeze({language:1,multiplier:2}),a=e=>"string"==typeof e?e.trim().toLowerCase():"",o=(e,t)=>{const n=a(t);if(!e||!n)return null;const o=Array.from(e.attributes||[]);for(const e of o){const t=/^data-item-custom(\d+)-role$/i.exec(e.name);if(!t)continue;if(a(e.value)!==n)continue;const o=parseInt(t[1],10);if(Number.isFinite(o)&&o>0)return o}return null},i=["fr","en"],s="fr",r=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,d=()=>{const t=e("header");return t?t.offsetHeight:0};window.whenSnipcart=e=>{if(window.Snipcart&&window.Snipcart.store&&window.Snipcart.api)return void e();const t=setInterval(()=>{window.Snipcart&&window.Snipcart.store&&window.Snipcart.api&&(clearInterval(t),e())},200)},window.GD=Object.assign(window.GD||{},{qs:e,qsa:t,throttle:(e,t=100)=>{let n=0,a=null;return function(...o){const i=Date.now();i-n>=t?(n=i,e.apply(this,o)):a||(a=setTimeout(()=>{n=Date.now(),a=null,e.apply(this,o)},t-(i-n)))}},debounce:(e,t=120)=>{let n;return function(...a){clearTimeout(n),n=setTimeout(()=>e.apply(this,a),t)}},createEl:(e,t={},n=[])=>{const a=document.createElement(e);return Object.entries(t).forEach(([e,t])=>{"class"===e?a.className=t:"style"===e?Object.assign(a.style,t):null!=t&&a.setAttribute(e,t)}),[].concat(n).forEach(e=>{"string"==typeof e?a.appendChild(document.createTextNode(e)):e&&a.appendChild(e)}),a},getLang:()=>{const e=localStorage.getItem("lang"),t=(e=>{try{const t=document.cookie.match(new RegExp(`(?:^|; )${e}=([^;]+)`));return t?t[1]:null}catch(e){return null}})("lang"),n=document.documentElement.lang,a=(e||t||n||s).toLowerCase();return i.includes(a)?a:s},setLang:e=>{const t=i.includes(e)?e:s;return localStorage.setItem("lang",t),localStorage.setItem("snipcartLanguage",t),((e,t,n=31536e3)=>{try{document.cookie=`${e}=${t};path=/;max-age=${n}`}catch(e){}})("lang",t),document.documentElement.lang=t,t},smoothScrollTo:(e,t={})=>{const n=Math.max(0,e.getBoundingClientRect().top+window.pageYOffset-(t.offset??d()+12));r?window.scrollTo(0,n):window.scrollTo({top:n,behavior:"smooth"})},getHeaderOffset:d,focusTrap:e=>{let n=[],a=null,o=null;const i=e=>{"Tab"===e.key&&n.length&&(e.shiftKey&&document.activeElement===a?(e.preventDefault(),o.focus()):e.shiftKey||document.activeElement!==o||(e.preventDefault(),a.focus()))};return{mount(){n=t('a[href], button:not([disabled]), select, textarea, input, [tabindex]:not([tabindex="-1"])',e),[a]=n,o=n[n.length-1],e.addEventListener("keydown",i)},unmount(){e.removeEventListener("keydown",i)}}},customFields:{indexesByRole:n,normalizeRole:a,findIndexOnButton:o,resolveIndex:(e,{button:t=null,fallbackIndexes:i=[],position:s=0}={})=>{if(!e)return null;const r=parseInt(e.dataset?.customIndex??"",10);if(Number.isFinite(r)&&r>0)return r;const d=a((e.dataset?.itemCustomRole??e.dataset?.customRole)||"");if(d){const e=o(t,d);if(Number.isFinite(e)&&e>0)return e;const a=n[d];if(Number.isFinite(a)&&a>0)return a}if(Array.isArray(i)&&i.length>0){const e=i[s];if(Number.isFinite(e)&&e>0)return e;const t=i[i.length-1];if(Number.isFinite(t)&&t>0)return t}return null}}})})(),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("header");if(!e)return;const t=()=>{const t=e.getBoundingClientRect().height||96;document.documentElement.style.setProperty("--header-height",`${t}px`),document.documentElement.style.setProperty("--gd-header-h",`${t}px`)};t(),new ResizeObserver(t).observe(e),window.addEventListener("resize",t)}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("lang-switcher"),t=["fr","en"],n=()=>{if(!window.i18nManager)return void setTimeout(n,50);const e=window.i18nManager.getCurrentLanguage();var o;o=e,document.querySelectorAll(".flag-btn[data-lang]").forEach(e=>{e.dataset.lang===o?e.setAttribute("aria-current","true"):e.removeAttribute("aria-current")}),whenSnipcart(()=>{window.Snipcart?.api?.session&&window.Snipcart.api.session.setLanguage(e)}),document.querySelectorAll(".flag-btn[data-lang]").forEach(e=>{e.addEventListener("click",async()=>{const n=e.dataset.lang;if(t.includes(n))try{await window.i18nManager.changeLanguage(n),await a(n),window.Snipcart?.api?.session&&window.Snipcart.api.session.setLanguage(n);let e=window.location.pathname;if("fr"!==n){const t=new URLSearchParams(window.location.search);t.set("lang",n),e+="?"+t.toString()}window.location.hash&&(e+=window.location.hash),window.location.href=e}catch(e){console.error("[I18n] Erreur changement langue:",e)}})}),a(e)};async function a(t){if(window.i18nManager)try{const e=window.i18nManager.getTranslations(t);e||await window.i18nManager.loadTranslations(t),window.i18nManager.updateDOM(),document.querySelectorAll("[data-name-fr]").forEach(e=>{const n="en"===t?e.dataset.nameEn:e.dataset.nameFr;n&&(e.innerHTML=n)}),document.querySelectorAll("[data-alt-fr]").forEach(e=>{const n="en"===t?e.dataset.altEn:e.dataset.altFr;n&&e.setAttribute("alt",n)});const n=window.i18nManager.t("product.multiplier","Multiplicateur"),a=window.GD?.customFields||{},o="function"==typeof a.findIndexOnButton?a.findIndexOnButton:()=>null;document.querySelectorAll(".snipcart-add-item").forEach(e=>{"en"===t?(e.dataset.itemNameEn&&e.setAttribute("data-item-name",e.dataset.itemNameEn),e.dataset.itemDescriptionEn&&(e.dataset.itemDescription=e.dataset.itemDescriptionEn,e.setAttribute("data-item-description",e.dataset.itemDescriptionEn))):(e.dataset.itemNameFr&&e.setAttribute("data-item-name",e.dataset.itemNameFr),e.dataset.itemDescriptionFr&&(e.dataset.itemDescription=e.dataset.itemDescriptionFr,e.setAttribute("data-item-description",e.dataset.itemDescriptionFr)));const a=o(e,"multiplier"),i=Number.parseInt(a,10);if(Number.isFinite(i)&&i>0){e.hasAttribute(`data-item-custom${i}-name`)&&e.setAttribute(`data-item-custom${i}-name`,n)}}),document.querySelectorAll('[data-role^="multiplier-"]').forEach(e=>{const n=e.dataset.role,a=n?.split("-")[1];a&&e.closest(".multiplier-wrapper")?.classList.toggle("hidden",a!==t)}),"function"==typeof window.updatePlus&&document.querySelectorAll(".btn-shop[data-item-id]").forEach(e=>{window.updatePlus(e.dataset.itemId)}),window.i18n=e}catch(t){console.error("[I18n] Erreur mise à jour traductions:",t),e&&e.classList.add("hidden")}else console.warn("[I18n] Gestionnaire I18N non disponible")}n(),document.addEventListener("i18nReady",e=>{window.DEBUG_MODE&&console.log("[I18n] Traductions prêtes pour langue:",e.detail.lang)})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".fade-up").forEach(e=>{new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate")})},{threshold:.1}).observe(e)}),document.body.addEventListener("click",e=>{const t=e.target.closest('a[href^="#"]:not([href="#"])');if(!t)return;const n=t.getAttribute("href").slice(1),a=document.getElementById(n);a&&(e.preventDefault(),window.GD.smoothScrollTo(a),t.matches("nav .nav-link")&&(document.querySelectorAll("nav .nav-link.is-active").forEach(e=>e.classList.remove("is-active")),t.classList.add("is-active")))},{passive:!1})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("menu-btn"),t=document.getElementById("mobile-menu"),n=document.getElementById("menu-overlay"),a=document.getElementById("menu-close");if(!e||!t||!n)return;const o=window.GD.focusTrap(t),i=()=>{t.classList.add("translate-x-full"),t.classList.remove("translate-x-0"),n.classList.remove("opacity-100"),n.classList.add("opacity-0"),n.addEventListener("transitionend",()=>n.classList.add("hidden"),{once:!0}),t.addEventListener("transitionend",()=>{t.classList.add("hidden")},{once:!0}),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),o.unmount(),e.focus()};e.addEventListener("click",()=>{"true"===e.getAttribute("aria-expanded")?i():(()=>{t.classList.remove("hidden"),n.classList.remove("hidden"),requestAnimationFrame(()=>{t.classList.remove("translate-x-full"),t.classList.add("translate-x-0"),n.classList.remove("opacity-0"),n.classList.add("opacity-100")}),e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),o.mount();const a=t.querySelector("a,button");a&&a.focus()})()}),t.querySelectorAll("a").forEach(e=>e.addEventListener("click",i)),n.addEventListener("click",i),a&&a.addEventListener("click",i),document.addEventListener("keydown",t=>{"Escape"===t.key&&"true"===e.getAttribute("aria-expanded")&&i()})}),document.addEventListener("DOMContentLoaded",()=>{const e=e=>{document.querySelectorAll('nav .nav-link.is-active, nav .nav-link[aria-current="page"]').forEach(e=>{e.classList.remove("is-active"),e.removeAttribute("aria-current")}),e&&(e.classList.add("is-active"),e.setAttribute("aria-current","page"))};document.querySelectorAll("nav .nav-link").forEach(t=>{t.addEventListener("click",n=>{n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||e(t)})});const t=new Map;if(document.querySelectorAll('nav .nav-link[href*="#"]').forEach(e=>{const n=e.getAttribute("href").split("#")[1],a=n&&document.getElementById(n);a&&t.set(a,e)}),t.size){const n=new IntersectionObserver(n=>{let a=null;for(const e of n)e.isIntersecting&&(!a||e.intersectionRatio>a.intersectionRatio)&&(a=e);a&&e(t.get(a.target))},{rootMargin:"0px 0px -55% 0px",threshold:[.25,.5,.75]});t.forEach((e,t)=>n.observe(t))}document.querySelectorAll("nav .relative.group").forEach(e=>{const t=e.querySelector("ul");t&&(e.addEventListener("focusin",()=>t.classList.remove("hidden")),e.addEventListener("focusout",n=>{e.contains(n.relatedTarget)||t.classList.add("hidden")}))})}),document.addEventListener("DOMContentLoaded",()=>{const e=["video1","video2","video3"].map(e=>document.getElementById(e)).filter(Boolean).filter(e=>!e.closest(".hero-videos"));let t,n=0,a=!1;e.forEach(e=>{if(e.closest(".hero-videos"))return void log("Skipping hero video from app.js management:",e);e.dataset.userPaused="false",e.dataset.autoPaused="false";const t=()=>e.classList.add("scale-105","z-10"),n=()=>e.classList.remove("scale-105","z-10");e.addEventListener("play",()=>{t(),e.dataset.userPaused="false",e.dataset.autoPaused="false"}),e.addEventListener("playing",t),e.addEventListener("pause",()=>{n(),"true"===e.dataset.autopausing?e.dataset.autopausing="false":e.dataset.userPaused="true"}),e.addEventListener("ended",n)});const o=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target;t.closest('[data-managed-by="hero-videos"]')||(e.isIntersecting?"true"===t.dataset.autoPaused&&"true"!==t.dataset.userPaused&&(t.play(),t.dataset.autoPaused="false"):t.paused||(t.dataset.autopausing="true",t.dataset.autoPaused="true",t.pause(),t.classList.remove("scale-105","z-10")))})},{threshold:.2});function i(e){const t=document.querySelector(`.mute-btn[data-video="${e.id}"]`);t&&(t.textContent=e.muted?"🔇":"🔊")}e.forEach(e=>{e.closest('[data-managed-by="hero-videos"]')||e.closest(".hero-videos")||o.observe(e)});const s=()=>{if(a)return;a=!0;const t=e[n];t&&!t.paused&&(t.muted=!1,i(t))};function r(o){o.muted=!a,o.currentTime=0,o.play().then(()=>{a&&(o.muted=!1),i(o)}).catch(()=>{o.muted=!0,o.play(),i(o)}),o.onended=()=>{n+=1,n<e.length&&t(n)}}["click","touchstart","keydown","wheel"].forEach(e=>window.addEventListener(e,s,{once:!0,passive:!0})),document.querySelectorAll(".mute-btn").forEach(t=>{const n=e.find(e=>e.id===t.dataset.video);n&&t.addEventListener("click",e=>{e.stopPropagation(),n.muted=!n.muted,i(n)})}),t=t=>{const n=e[t];if(!n)return;e.forEach((e,n)=>{n!==t&&(e.pause(),e.currentTime=0)});const a=new IntersectionObserver(e=>{e[0].isIntersecting&&fullyVisible(n)&&(a.disconnect(),r(n))},{threshold:1});a.observe(n)},e.forEach((e,t)=>{e.addEventListener("click",()=>{e.paused?(a||s(),n=t,r(e)):e.pause()})}),e.length&&t(n)}),document.addEventListener("DOMContentLoaded",()=>{const e=window.stock||{},t=e=>{const t=Number.parseInt(e,10);return Number.isFinite(t)&&t>0?t:null},n=window.GD?.customFields||{},a="function"==typeof n.resolveIndex?n.resolveIndex:null,o=t=>{const n=e[t],a=parseInt(document.getElementById(`qty-${t}`)?.textContent||"1",10),o=document.querySelector(`.quantity-btn.plus[data-target="${t}"]`),i=document.querySelector(`.btn-shop[data-item-id="${t}"]`),s=null!=n&&(n<=0||a>=n),r=void 0!==i?.dataset.hidePrice,d=i?parseFloat(i.dataset.itemPrice||"0"):0,c=window.i18n?.product||{},l=c.add||"Ajouter",u=c.insufficientStock||"Stock insuffisant";if(o){const e=a+1;o.disabled=null!=n&&(n<=0||e>n),o.title=o.disabled?u:""}if(i){const e=i.querySelector('[data-i18n="product.add"]');let t=i.querySelector(".price-text");t||(t=document.createElement("span"),t.className="price-text",i.append(" ",t)),i.disabled=s,i.title=s?u:"",e&&(e.textContent=s?u:l),t.textContent=s||r||!d?"":`— ${d*a} $`}};window.updatePlus=o,document.querySelectorAll(".quantity-btn").forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.target,a=document.getElementById(`qty-${n}`);if(!a)return;let i=parseInt(a.textContent,10)||1;const s=e[n];t.classList.contains("minus")?i=Math.max(1,i-1):(null==s||i+1<=s)&&(i+=1),a.textContent=i;const r=document.querySelector(`.btn-shop[data-item-id="${n}"]`);r&&r.setAttribute("data-item-quantity",String(i)),o(n)})}),document.querySelectorAll(".quantity-selector").forEach(e=>{o(e.dataset.id)}),document.querySelectorAll(".btn-shop[data-item-id]").forEach(e=>{const t=e.dataset.itemId;document.querySelector(`.quantity-selector[data-id="${t}"]`)||o(t)});const i=(e,{onUpdate:n}={})=>{document.querySelectorAll(e).forEach(e=>{const i=e.dataset.target;if(!i)return;const s=document.querySelector(`.btn-shop[data-item-id="${i}"]`),r=a?a(e,{button:s}):null;let d=t(r);d||(d=t(e.dataset.customIndex)??1),e.dataset.customIndex=String(d);const c=()=>{const t=parseInt(document.getElementById(`qty-${i}`)?.textContent||"1",10);s&&(s.setAttribute(`data-item-custom${d}-value`,e.value),s.setAttribute("data-item-quantity",String(t)),"function"==typeof n&&n({id:i,addBtn:s,select:e,value:e.value,index:d})),o(i)};c(),e.addEventListener("change",c)})};i(".multiplier-select",{onUpdate:({addBtn:e})=>{const t="en"===document.documentElement.lang?"itemNameEn":"itemNameFr",n=e.dataset.gdBaseName||e.getAttribute("data-item-name")||"";!e.dataset.gdBaseName&&n&&(e.dataset.gdBaseName=n);const a=e.dataset[t]||e.dataset.gdBaseName||n;a&&e.setAttribute("data-item-name",a)}}),i(".language-select"),i(".triptych-select"),document.querySelectorAll(".swiper").forEach(e=>{if(e.classList.contains("swiper-thumbs"))return;const t=e.parentElement.querySelector(".swiper-thumbs");if(t){const n=new Swiper(t,{slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(e,{loop:!0,autoplay:{delay:5e3},navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},thumbs:{swiper:n}})}else new Swiper(e,{loop:!0,autoplay:{delay:5e3},navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}})}),window.Fancybox&&Fancybox.bind("[data-fancybox]",{backdrop:"blur",dragToClose:!0,closeButton:"top",placeFocusBack:!0,on:{close:()=>window.history.back()}})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".snipcart-checkout"),t=document.querySelectorAll(".snipcart-customer-signin"),n=()=>"visible"===window.Snipcart?.store?.getState()?.cart?.status,a=()=>"visible"===window.Snipcart?.store?.getState()?.customer?.status;e.forEach(e=>e.addEventListener("click",e=>{window.Snipcart?.store&&window.Snipcart?.api?.theme&&n()&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),window.Snipcart.api.theme.cart.close(),e.currentTarget.blur())})),t.forEach(e=>e.addEventListener("click",e=>{window.Snipcart?.store&&window.Snipcart?.api?.theme&&a()&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),window.Snipcart.api.theme.customer.close(),e.currentTarget.blur())}));const o=()=>{const o=n(),i=a();e.forEach(e=>e.classList.toggle("is-active",o)),t.forEach(e=>e.classList.toggle("is-active",i))};window.addEventListener("snipcart.ready",o),window.addEventListener("snipcart.opened",o),window.addEventListener("snipcart.closed",o);!function e(){window.Snipcart&&window.Snipcart.store?(()=>{try{const{store:e}=window.Snipcart;e&&e.subscribe(()=>o())}catch(e){}})():setTimeout(e,300)}()}),document.addEventListener("DOMContentLoaded",()=>{if(!("loading"in HTMLImageElement.prototype)){const e=document.querySelectorAll('img[loading="lazy"]');if(!e.length)return;const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(!e.isIntersecting)return;const n=e.target,{src:a}=n.dataset,{srcset:o}=n.dataset;a&&(n.src=a),o&&(n.srcset=o),t.unobserve(n)})},{rootMargin:"100px 0px"});e.forEach(e=>t.observe(e))}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("back-to-top");if(e){e.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});const t=throttle(()=>{e.classList.toggle("opacity-0",window.pageYOffset<500),e.classList.toggle("pointer-events-none",window.pageYOffset<500)},100);window.addEventListener("scroll",t,{passive:!0}),t()}document.querySelectorAll("[data-collapse]").forEach(e=>{const t=document.querySelector(e.dataset.collapse);if(!t)return;e.setAttribute("aria-expanded","false"),t.hidden=!0;const n=()=>{t.hidden=!1,e.setAttribute("aria-expanded","true"),t.style.height="auto";const n=`${t.clientHeight}px`;t.style.height="0px",requestAnimationFrame(()=>{t.style.height=n}),t.addEventListener("transitionend",()=>{t.style.height="auto"},{once:!0})},a=()=>{e.setAttribute("aria-expanded","false"),t.style.height=`${t.clientHeight}px`,requestAnimationFrame(()=>{t.style.height="0px"}),t.addEventListener("transitionend",()=>{t.hidden=!0,t.style.height=""},{once:!0})};e.addEventListener("click",t=>{t.preventDefault(),("true"===e.getAttribute("aria-expanded")?a:n)()})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("header");if(!e)return;const t=((e,t=80)=>{let n=0;return()=>{const a=Date.now();a-n>t&&(n=a,e())}})(()=>{e.classList.toggle("shadow-2xl",window.pageYOffset>8),e.classList.toggle("backdrop-blur-md",window.pageYOffset>8)});window.addEventListener("scroll",t,{passive:!0}),t()}),(()=>{const e=window.GD?.customFields||{},t="function"==typeof e.resolveIndex?e.resolveIndex:null,n=()=>{!0!==window.__snipcartQtyPatch&&(document.addEventListener("click",e=>{const n=e.target.closest(".snipcart-add-item");if(!n)return;const a=n.getAttribute("data-item-id")||n.dataset.itemId;if(!a)return;const o=document.getElementById(`qty-${a}`);if(o){const e=parseInt(o.textContent,10);!Number.isNaN(e)&&e>0&&n.setAttribute("data-item-quantity",String(e))}const i=Array.from(document.querySelectorAll("select[data-target]")).filter(e=>e.dataset.target===a);if(i.length){const e=(e=>{const t=[];return Array.from(e.attributes).forEach(e=>{const n=/^data-item-custom(\d+)-/i.exec(e.name);if(!n)return;const a=parseInt(n[1],10);Number.isFinite(a)&&t.push(a)}),t.sort((e,t)=>e-t)})(n),a=n.getAttribute("data-item-name")||"",o=n.dataset.itemNameFr||a,s=n.dataset.itemNameEn||a;i.forEach((i,r)=>{let d=null;if(t&&(d=t(i,{button:n,fallbackIndexes:e,position:r})),!Number.isFinite(d)||d<=0){d=(e=>{const t=parseInt(e,10);return Number.isFinite(t)&&t>0?t:null})(i.dataset.customIndex||"")??e[r]??e[e.length-1]??r+1}i.dataset.customIndex=String(d);const c=null==i.value?"":`${i.value}`;let l=c;if(i.classList.contains("multiplier-select")){const e=c&&""!==`${c}`.trim()?`${c}`:"1";l=e,o&&!n.dataset.gdBaseNameFr&&(n.dataset.gdBaseNameFr=o),s&&!n.dataset.gdBaseNameEn&&(n.dataset.gdBaseNameEn=s);const t=("en"===("en"===document.documentElement.lang?"en":"fr")?n.dataset.gdBaseNameEn||s:n.dataset.gdBaseNameFr||o)||n.dataset.gdBaseName||a||n.getAttribute("data-item-name")||"";t&&(n.dataset.gdBaseName||(n.dataset.gdBaseName=t),n.setAttribute("data-item-name",t)),n.dataset.gdMultiplier=e}n.setAttribute(`data-item-custom${d}-value`,l)})}},{passive:!0}),window.__snipcartQtyPatch=!0)};window.__ensureSnipcartQtyPatch=n;document.addEventListener("DOMContentLoaded",()=>{const e=e=>{const t=e.dataset.target,n=e.dataset.customIndex,a=document.querySelector(`.snipcart-add-item[data-item-id="${t}"]`);a&&n&&a.setAttribute(`data-item-custom${n}-value`,e.value)};document.querySelectorAll("select[data-target][data-custom-index]").forEach(t=>{t.addEventListener("change",()=>e(t)),e(t)}),document.querySelectorAll(".snipcart-add-item").forEach(t=>{t.addEventListener("click",n=>{const a=t.dataset.itemId||t.getAttribute("data-item-id");document.querySelectorAll(`select[data-target="${a}"]`).forEach(t=>e(t))})})}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n,{once:!0}):n()})(),document.addEventListener("DOMContentLoaded",()=>{document.getElementById("snipcart")});const toggleSnipcartScroll=()=>{const e=document.getElementById("snipcart"),t=!!e?.querySelector(".snipcart-order"),n="visible"===window.Snipcart?.store?.getState()?.cart?.status;document.body.classList.toggle("snipcart-open",n&&!t)};function copyEmailToClipboard(e,t){"use strict";navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{showCopyFeedback(t,!0)}).catch(n=>{fallbackCopyEmail(e,t)}):fallbackCopyEmail(e,t)}function fallbackCopyEmail(e,t){"use strict";const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.select();try{showCopyFeedback(t,document.execCommand("copy"))}catch(e){showCopyFeedback(t,!1)}finally{document.body.removeChild(n)}}function showCopyFeedback(e,t){"use strict";const n=e.querySelector(".copy-feedback");if(n)if(t)n.classList.remove("hidden"),n.classList.add("animate-pulse"),setTimeout(()=>{n.classList.add("hidden"),n.classList.remove("animate-pulse")},2e3);else{const e=n.textContent;n.textContent="✗ Erreur",n.classList.remove("hidden","bg-green-600"),n.classList.add("bg-red-600"),setTimeout(()=>{n.textContent=e,n.classList.add("hidden","bg-green-600"),n.classList.remove("bg-red-600")},2e3)}}function playSound(e,t=.5){try{const n=new Audio(e);n.volume=Math.max(0,Math.min(1,t)),n.play().catch(()=>{})}catch(e){}}window.addEventListener("snipcart.opened",toggleSnipcartScroll),window.addEventListener("snipcart.closed",toggleSnipcartScroll),window.addEventListener("snipcart.ready",()=>{const e=document.getElementById("snipcart");e&&new MutationObserver(toggleSnipcartScroll).observe(e,{childList:!0,subtree:!0}),toggleSnipcartScroll()}),document.addEventListener("DOMContentLoaded",()=>{const e=()=>{document.documentElement.getAttribute("data-cmp-status")};document.addEventListener("cmpConsentUpdate",e=>{const t=e.detail?.purposes||{};t.analytics,t.marketing,document.dispatchEvent(new CustomEvent("gdConsentUpdate",{detail:{purposes:t,timestamp:Date.now()}}))}),e(),["snipcart_*","PHPSESSID","lang_preference","cart_session"].forEach(e=>{document.documentElement.setAttribute(`data-cookie-essential-${e.replace("*","all")}`,"true")});const t=setInterval(()=>{const n=document.documentElement.getAttribute("data-cmp-status");n&&"unknown"!==n&&(clearInterval(t),e())},500);setTimeout(()=>clearInterval(t),1e4)}),(()=>{function e(e=".hero-text h1",t=50,n=500){const a=document.querySelector(e);if(a&&!a.dataset.typed){const e=a.textContent.trim();a.textContent="",a.dataset.typed="true",a.hasAttribute("data-i18n")&&(a.dataset.originalI18n=a.getAttribute("data-i18n"),a.removeAttribute("data-i18n"));let o=0;const i=()=>{o<e.length&&(a.textContent+=e.charAt(o),o++,setTimeout(i,t))};setTimeout(i,n)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>e()):e(),document.addEventListener("languageChanged",()=>{const t=document.querySelector(".hero-text h1");t&&(t.dataset.typed=!1,t.dataset.originalI18n&&t.setAttribute("data-i18n",t.dataset.originalI18n),setTimeout(()=>e(),100))}),window.initTypewriterTitle=e})(),(()=>{class e{constructor(){this.nav=document.querySelector(".shop-quick-links"),this.hero=document.querySelector("section.min-h-screen"),this.links=this.nav?Array.from(this.nav.querySelectorAll('a[href^="#"]')):[],this.sections=[],this.isSticky=!1,this.scrollThreshold=0,this.nav&&this.hero&&this.init()}init(){this.updateScrollThreshold(),this.links.forEach(e=>{const t=e.getAttribute("href").substring(1),n=document.getElementById(t);n&&this.sections.push({id:t,element:n,link:e})}),window.addEventListener("scroll",this.handleScroll.bind(this),{passive:!0}),window.addEventListener("resize",this.debounce(()=>this.updateScrollThreshold(),200)),this.links.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href").substring(1),a=document.getElementById(n);if(a){const e=a.offsetTop-(this.isSticky?this.nav.offsetHeight+parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height")||"0"):0);window.scrollTo({top:e,behavior:"smooth"})}})}),this.handleScroll()}updateScrollThreshold(){this.hero&&(this.scrollThreshold=this.hero.offsetHeight-100)}handleScroll(){const e=window.scrollY||window.pageYOffset;e>this.scrollThreshold&&!this.isSticky?(this.nav.classList.add("sticky-active"),this.isSticky=!0):e<=this.scrollThreshold&&this.isSticky&&(this.nav.classList.remove("sticky-active"),this.isSticky=!1),this.isSticky&&this.updateActiveSection(e)}updateActiveSection(e){let t=null;const n=this.nav.offsetHeight+parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height")||"0")+50;for(let a=this.sections.length-1;a>=0;a--){const o=this.sections[a];if(e>=o.element.offsetTop-n){t=o;break}}this.links.forEach(e=>e.classList.remove("active")),t&&t.link.classList.add("active")}debounce(e,t){let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...a)},t)}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>new e):new e})(),window.copyEmailToClipboard=copyEmailToClipboard,document.addEventListener("DOMContentLoaded",()=>{const e=()=>{const e=document.getElementById("snipcart");e&&e.querySelectorAll('[class*="item-line"]').forEach(e=>{e.style.flexDirection="row",e.style.direction="ltr",e.querySelectorAll("*").forEach(e=>{"row-reverse"===e.style.flexDirection&&(e.style.flexDirection="row"),"rtl"===e.getAttribute("dir")&&e.setAttribute("dir","ltr")})})};document.addEventListener("snipcart.ready",()=>{window.Snipcart.events.on("item.added",t=>{playSound("media/sounds/coin-drop.mp3",.5),setTimeout(e,100)});const t=document.getElementById("snipcart");if(t){new MutationObserver(()=>{e()}).observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","dir"]})}e()}),document.addEventListener("click",e=>{e.target.closest(".snipcart-add-item")&&setTimeout(()=>{playSound("media/sounds/coin-drop.mp3",.5)},50)})});