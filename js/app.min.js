function fullyVisible(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(()=>{const e=(e,t=document)=>t.querySelector(e),t=(e,t=document)=>Array.from(t.querySelectorAll(e)),n=Object.freeze({language:1,multiplier:2}),a=e=>"string"==typeof e?e.trim().toLowerCase():"",o=(e,t)=>{const n=a(t);if(!e||!n)return null;const o=Array.from(e.attributes||[]);for(const e of o){const t=/^data-item-custom(\d+)-role$/i.exec(e.name);if(!t)continue;if(a(e.value)!==n)continue;const o=parseInt(t[1],10);if(Number.isFinite(o)&&o>0)return o}return null},s=["fr","en"],i="fr",r=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,d=()=>{const t=e("header");return t?t.offsetHeight:0};window.whenSnipcart=e=>{if(window.Snipcart&&window.Snipcart.store&&window.Snipcart.api)return void e();const t=setInterval(()=>{window.Snipcart&&window.Snipcart.store&&window.Snipcart.api&&(clearInterval(t),e())},200)},window.GD=Object.assign(window.GD||{},{qs:e,qsa:t,throttle:(e,t=100)=>{let n=0,a=null;return function(...o){const s=Date.now();s-n>=t?(n=s,e.apply(this,o)):a||(a=setTimeout(()=>{n=Date.now(),a=null,e.apply(this,o)},t-(s-n)))}},debounce:(e,t=120)=>{let n;return function(...a){clearTimeout(n),n=setTimeout(()=>e.apply(this,a),t)}},createEl:(e,t={},n=[])=>{const a=document.createElement(e);return Object.entries(t).forEach(([e,t])=>{"class"===e?a.className=t:"style"===e?Object.assign(a.style,t):null!=t&&a.setAttribute(e,t)}),[].concat(n).forEach(e=>{"string"==typeof e?a.appendChild(document.createTextNode(e)):e&&a.appendChild(e)}),a},getLang:()=>{const e=localStorage.getItem("lang"),t=(e=>{try{const t=document.cookie.match(new RegExp(`(?:^|; )${e}=([^;]+)`));return t?t[1]:null}catch(e){return null}})("lang"),n=document.documentElement.lang,a=(e||t||n||i).toLowerCase();return s.includes(a)?a:i},setLang:e=>{const t=s.includes(e)?e:i;return localStorage.setItem("lang",t),localStorage.setItem("snipcartLanguage",t),((e,t,n=31536e3)=>{try{document.cookie=`${e}=${t};path=/;max-age=${n}`}catch(e){}})("lang",t),document.documentElement.lang=t,t},smoothScrollTo:(e,t={})=>{const n=Math.max(0,e.getBoundingClientRect().top+window.pageYOffset-(t.offset??d()+12));r?window.scrollTo(0,n):window.scrollTo({top:n,behavior:"smooth"})},getHeaderOffset:d,focusTrap:e=>{let n=[],a=null,o=null;const s=e=>{"Tab"===e.key&&n.length&&(e.shiftKey&&document.activeElement===a?(e.preventDefault(),o.focus()):e.shiftKey||document.activeElement!==o||(e.preventDefault(),a.focus()))};return{mount(){n=t('a[href], button:not([disabled]), select, textarea, input, [tabindex]:not([tabindex="-1"])',e),[a]=n,o=n[n.length-1],e.addEventListener("keydown",s)},unmount(){e.removeEventListener("keydown",s)}}},customFields:{indexesByRole:n,normalizeRole:a,findIndexOnButton:o,resolveIndex:(e,{button:t=null,fallbackIndexes:s=[],position:i=0}={})=>{if(!e)return null;const r=parseInt(e.dataset?.customIndex??"",10);if(Number.isFinite(r)&&r>0)return r;const d=a((e.dataset?.itemCustomRole??e.dataset?.customRole)||"");if(d){const e=o(t,d);if(Number.isFinite(e)&&e>0)return e;const a=n[d];if(Number.isFinite(a)&&a>0)return a}if(Array.isArray(s)&&s.length>0){const e=s[i];if(Number.isFinite(e)&&e>0)return e;const t=s[s.length-1];if(Number.isFinite(t)&&t>0)return t}return null}}})})(),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("header");if(!e)return;const t=()=>{const t=e.getBoundingClientRect().height||96;document.documentElement.style.setProperty("--header-height",`${t}px`),document.documentElement.style.setProperty("--gd-header-h",`${t}px`)};t(),new ResizeObserver(t).observe(e),window.addEventListener("resize",t)}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("lang-switcher");let t=window.GD.getLang();["fr","en"].includes(t)||(t="fr"),t=window.GD.setLang(t);var n,a;n=t,document.querySelectorAll(".flag-btn[data-lang]").forEach(e=>{e.dataset.lang===n?e.setAttribute("aria-current","true"):e.removeAttribute("aria-current")}),whenSnipcart(()=>window.Snipcart.api.session.setLanguage(t)),document.querySelectorAll(".flag-btn[data-lang]").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.lang;window.GD.setLang(t);let n=window.location.pathname;if("fr"!==t){const e=new URLSearchParams(window.location.search);e.set("lang",t),n+="?"+e.toString()}window.location.hash&&(n+=window.location.hash),window.location.href=n})}),a=t,fetch(`/lang/${a}.json`).then(e=>e.ok?e.json():null).then(e=>{if(!e)return;window.i18n=e,document.querySelectorAll("[data-i18n]").forEach(t=>{const n=t.dataset.i18n.split(".");let a=e;n.forEach(e=>{a&&(a=a[e])}),null!=a&&(t.innerHTML=a)}),document.querySelectorAll("[data-name-fr]").forEach(e=>{const t="en"===a?e.dataset.nameEn:e.dataset.nameFr;t&&(e.innerHTML=t)}),document.querySelectorAll("[data-desc-fr]").forEach(e=>{}),document.querySelectorAll("[data-alt-fr]").forEach(e=>{const t="en"===a?e.dataset.altEn:e.dataset.altFr;t&&e.setAttribute("alt",t)});const t=/(multiplicat(eur|or)|multiplier)/i,n=window.GD?.customFields||{},o="function"==typeof n.findIndexOnButton?n.findIndexOnButton:()=>null;document.querySelectorAll(".snipcart-add-item").forEach(n=>{"en"===a?(n.dataset.itemNameEn&&n.setAttribute("data-item-name",n.dataset.itemNameEn),n.dataset.itemDescriptionEn&&(n.dataset.itemDescription=n.dataset.itemDescriptionEn,n.setAttribute("data-item-description",n.dataset.itemDescriptionEn))):(n.dataset.itemNameFr&&n.setAttribute("data-item-name",n.dataset.itemNameFr),n.dataset.itemDescriptionFr&&(n.dataset.itemDescription=n.dataset.itemDescriptionFr,n.setAttribute("data-item-description",n.dataset.itemDescriptionFr)));const s=o(n,"multiplier"),i=(()=>{const e=Number.parseInt(s,10);return Number.isFinite(e)&&e>0?e:null})();if(null!==i&&n.hasAttribute(`data-item-custom${i}-name`)&&e?.product?.multiplier){const a=n.getAttribute(`data-item-custom${i}-name`)||"",o=n.dataset[`itemCustom${i}Role`]||"",s=o&&"multiplier"===o.toLowerCase()||n.hasAttribute("data-multiplier-label")||n.dataset.multiplierLabel&&["1","true","yes","oui"].includes(n.dataset.multiplierLabel.toLowerCase()),r=t.test(a);(s||r)&&n.setAttribute(`data-item-custom${i}-name`,e.product.multiplier)}}),document.querySelectorAll('[data-role^="multiplier-"]').forEach(e=>{const{role:t}=e.dataset,n=t?.split("-")[1];n&&e.closest(".multiplier-wrapper")?.classList.toggle("hidden",n!==a)}),"function"==typeof window.updatePlus&&document.querySelectorAll(".btn-shop[data-item-id]").forEach(e=>{window.updatePlus(e.dataset.itemId)})}).catch(()=>{e&&e.classList.add("hidden")})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".fade-up").forEach(e=>{new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate")})},{threshold:.1}).observe(e)}),document.body.addEventListener("click",e=>{const t=e.target.closest('a[href^="#"]:not([href="#"])');if(!t)return;const n=t.getAttribute("href").slice(1),a=document.getElementById(n);a&&(e.preventDefault(),window.GD.smoothScrollTo(a),t.matches("nav .nav-link")&&(document.querySelectorAll("nav .nav-link.is-active").forEach(e=>e.classList.remove("is-active")),t.classList.add("is-active")))},{passive:!1})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("menu-btn"),t=document.getElementById("mobile-menu"),n=document.getElementById("menu-overlay"),a=document.getElementById("menu-close");if(!e||!t||!n)return;const o=window.GD.focusTrap(t),s=()=>{t.classList.add("translate-x-full"),t.classList.remove("translate-x-0"),n.classList.remove("opacity-100"),n.classList.add("opacity-0"),n.addEventListener("transitionend",()=>n.classList.add("hidden"),{once:!0}),t.addEventListener("transitionend",()=>{t.classList.add("hidden")},{once:!0}),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),o.unmount(),e.focus()};e.addEventListener("click",()=>{"true"===e.getAttribute("aria-expanded")?s():(()=>{t.classList.remove("hidden"),n.classList.remove("hidden"),requestAnimationFrame(()=>{t.classList.remove("translate-x-full"),t.classList.add("translate-x-0"),n.classList.remove("opacity-0"),n.classList.add("opacity-100")}),e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),o.mount();const a=t.querySelector("a,button");a&&a.focus()})()}),t.querySelectorAll("a").forEach(e=>e.addEventListener("click",s)),n.addEventListener("click",s),a&&a.addEventListener("click",s),document.addEventListener("keydown",t=>{"Escape"===t.key&&"true"===e.getAttribute("aria-expanded")&&s()})}),document.addEventListener("DOMContentLoaded",()=>{const e=e=>{document.querySelectorAll('nav .nav-link.is-active, nav .nav-link[aria-current="page"]').forEach(e=>{e.classList.remove("is-active"),e.removeAttribute("aria-current")}),e&&(e.classList.add("is-active"),e.setAttribute("aria-current","page"))};document.querySelectorAll("nav .nav-link").forEach(t=>{t.addEventListener("click",n=>{n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||e(t)})});const t=new Map;if(document.querySelectorAll('nav .nav-link[href*="#"]').forEach(e=>{const n=e.getAttribute("href").split("#")[1],a=n&&document.getElementById(n);a&&t.set(a,e)}),t.size){const n=new IntersectionObserver(n=>{let a=null;for(const e of n)e.isIntersecting&&(!a||e.intersectionRatio>a.intersectionRatio)&&(a=e);a&&e(t.get(a.target))},{rootMargin:"0px 0px -55% 0px",threshold:[.25,.5,.75]});t.forEach((e,t)=>n.observe(t))}document.querySelectorAll("nav .relative.group").forEach(e=>{const t=e.querySelector("ul");t&&(e.addEventListener("focusin",()=>t.classList.remove("hidden")),e.addEventListener("focusout",n=>{e.contains(n.relatedTarget)||t.classList.add("hidden")}))})}),document.addEventListener("DOMContentLoaded",()=>{const e=["video1","video2","video3"].map(e=>document.getElementById(e)).filter(Boolean).filter(e=>!e.closest(".hero-videos"));let t,n=0,a=!1;e.forEach(e=>{if(e.closest(".hero-videos"))return void log("Skipping hero video from app.js management:",e);e.dataset.userPaused="false",e.dataset.autoPaused="false";const t=()=>e.classList.add("scale-105","z-10"),n=()=>e.classList.remove("scale-105","z-10");e.addEventListener("play",()=>{t(),e.dataset.userPaused="false",e.dataset.autoPaused="false"}),e.addEventListener("playing",t),e.addEventListener("pause",()=>{n(),"true"===e.dataset.autopausing?e.dataset.autopausing="false":e.dataset.userPaused="true"}),e.addEventListener("ended",n)});const o=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target;t.closest('[data-managed-by="hero-videos"]')||(e.isIntersecting?"true"===t.dataset.autoPaused&&"true"!==t.dataset.userPaused&&(t.play(),t.dataset.autoPaused="false"):t.paused||(t.dataset.autopausing="true",t.dataset.autoPaused="true",t.pause(),t.classList.remove("scale-105","z-10")))})},{threshold:.2});function s(e){const t=document.querySelector(`.mute-btn[data-video="${e.id}"]`);t&&(t.textContent=e.muted?"🔇":"🔊")}e.forEach(e=>{e.closest('[data-managed-by="hero-videos"]')||e.closest(".hero-videos")||o.observe(e)});const i=()=>{if(a)return;a=!0;const t=e[n];t&&!t.paused&&(t.muted=!1,s(t))};function r(o){o.muted=!a,o.currentTime=0,o.play().then(()=>{a&&(o.muted=!1),s(o)}).catch(()=>{o.muted=!0,o.play(),s(o)}),o.onended=()=>{n+=1,n<e.length&&t(n)}}["click","touchstart","keydown","wheel"].forEach(e=>window.addEventListener(e,i,{once:!0,passive:!0})),document.querySelectorAll(".mute-btn").forEach(t=>{const n=e.find(e=>e.id===t.dataset.video);n&&t.addEventListener("click",e=>{e.stopPropagation(),n.muted=!n.muted,s(n)})}),t=t=>{const n=e[t];if(!n)return;e.forEach((e,n)=>{n!==t&&(e.pause(),e.currentTime=0)});const a=new IntersectionObserver(e=>{e[0].isIntersecting&&fullyVisible(n)&&(a.disconnect(),r(n))},{threshold:1});a.observe(n)},e.forEach((e,t)=>{e.addEventListener("click",()=>{e.paused?(a||i(),n=t,r(e)):e.pause()})}),e.length&&t(n)}),document.addEventListener("DOMContentLoaded",()=>{const e=window.stock||{},t=e=>{const t=Number.parseInt(e,10);return Number.isFinite(t)&&t>0?t:null},n=window.GD?.customFields||{},a="function"==typeof n.resolveIndex?n.resolveIndex:null,o=t=>{const n=e[t],a=parseInt(document.getElementById(`qty-${t}`)?.textContent||"1",10),o=document.querySelector(`.quantity-btn.plus[data-target="${t}"]`),s=document.querySelector(`.btn-shop[data-item-id="${t}"]`),i=null!=n&&(n<=0||a>=n),r=void 0!==s?.dataset.hidePrice,d=s?parseFloat(s.dataset.itemPrice||"0"):0,c=window.i18n?.product||{},l=c.add||"Ajouter",u=c.insufficientStock||"Stock insuffisant";if(o){const e=a+1;o.disabled=null!=n&&(n<=0||e>n),o.title=o.disabled?u:""}if(s){const e=s.querySelector('[data-i18n="product.add"]');let t=s.querySelector(".price-text");t||(t=document.createElement("span"),t.className="price-text",s.append(" ",t)),s.disabled=i,s.title=i?u:"",e&&(e.textContent=i?u:l),t.textContent=i||r||!d?"":`— ${d*a} $`}};window.updatePlus=o,document.querySelectorAll(".quantity-btn").forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.target,a=document.getElementById(`qty-${n}`);if(!a)return;let s=parseInt(a.textContent,10)||1;const i=e[n];t.classList.contains("minus")?s=Math.max(1,s-1):(null==i||s+1<=i)&&(s+=1),a.textContent=s;const r=document.querySelector(`.btn-shop[data-item-id="${n}"]`);r&&r.setAttribute("data-item-quantity",String(s)),o(n)})}),document.querySelectorAll(".quantity-selector").forEach(e=>{o(e.dataset.id)}),document.querySelectorAll(".btn-shop[data-item-id]").forEach(e=>{const t=e.dataset.itemId;document.querySelector(`.quantity-selector[data-id="${t}"]`)||o(t)});const s=(e,{onUpdate:n}={})=>{document.querySelectorAll(e).forEach(e=>{const s=e.dataset.target;if(!s)return;const i=document.querySelector(`.btn-shop[data-item-id="${s}"]`),r=a?a(e,{button:i}):null;let d=t(r);d||(d=t(e.dataset.customIndex)??1),e.dataset.customIndex=String(d);const c=()=>{const t=parseInt(document.getElementById(`qty-${s}`)?.textContent||"1",10);i&&(i.setAttribute(`data-item-custom${d}-value`,e.value),i.setAttribute("data-item-quantity",String(t)),"function"==typeof n&&n({id:s,addBtn:i,select:e,value:e.value,index:d})),o(s)};c(),e.addEventListener("change",c)})};s(".multiplier-select",{onUpdate:({addBtn:e})=>{const t="en"===document.documentElement.lang?"itemNameEn":"itemNameFr",n=e.dataset.gdBaseName||e.getAttribute("data-item-name")||"";!e.dataset.gdBaseName&&n&&(e.dataset.gdBaseName=n);const a=e.dataset[t]||e.dataset.gdBaseName||n;a&&e.setAttribute("data-item-name",a)}}),s(".language-select"),s(".triptych-select"),document.querySelectorAll(".swiper").forEach(e=>{if(e.classList.contains("swiper-thumbs"))return;const t=e.parentElement.querySelector(".swiper-thumbs");if(t){const n=new Swiper(t,{slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(e,{loop:!0,autoplay:{delay:5e3},navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},thumbs:{swiper:n}})}else new Swiper(e,{loop:!0,autoplay:{delay:5e3},navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}})}),window.Fancybox&&Fancybox.bind("[data-fancybox]",{backdrop:"blur",dragToClose:!0,closeButton:"top",placeFocusBack:!0,on:{close:()=>window.history.back()}})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".snipcart-checkout"),t=document.querySelectorAll(".snipcart-customer-signin"),n=()=>"visible"===window.Snipcart?.store?.getState()?.cart?.status,a=()=>"visible"===window.Snipcart?.store?.getState()?.customer?.status;e.forEach(e=>e.addEventListener("click",e=>{window.Snipcart?.store&&window.Snipcart?.api?.theme&&n()&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),window.Snipcart.api.theme.cart.close(),e.currentTarget.blur())})),t.forEach(e=>e.addEventListener("click",e=>{window.Snipcart?.store&&window.Snipcart?.api?.theme&&a()&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),window.Snipcart.api.theme.customer.close(),e.currentTarget.blur())}));const o=()=>{const o=n(),s=a();e.forEach(e=>e.classList.toggle("is-active",o)),t.forEach(e=>e.classList.toggle("is-active",s))};window.addEventListener("snipcart.ready",o),window.addEventListener("snipcart.opened",o),window.addEventListener("snipcart.closed",o);!function e(){window.Snipcart&&window.Snipcart.store?(()=>{try{const{store:e}=window.Snipcart;e&&e.subscribe(()=>o())}catch(e){}})():setTimeout(e,300)}()}),document.addEventListener("DOMContentLoaded",()=>{if(!("loading"in HTMLImageElement.prototype)){const e=document.querySelectorAll('img[loading="lazy"]');if(!e.length)return;const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(!e.isIntersecting)return;const n=e.target,{src:a}=n.dataset,{srcset:o}=n.dataset;a&&(n.src=a),o&&(n.srcset=o),t.unobserve(n)})},{rootMargin:"100px 0px"});e.forEach(e=>t.observe(e))}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("back-to-top");if(e){e.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});const t=throttle(()=>{e.classList.toggle("opacity-0",window.pageYOffset<500),e.classList.toggle("pointer-events-none",window.pageYOffset<500)},100);window.addEventListener("scroll",t,{passive:!0}),t()}document.querySelectorAll("[data-collapse]").forEach(e=>{const t=document.querySelector(e.dataset.collapse);if(!t)return;e.setAttribute("aria-expanded","false"),t.hidden=!0;const n=()=>{t.hidden=!1,e.setAttribute("aria-expanded","true"),t.style.height="auto";const n=`${t.clientHeight}px`;t.style.height="0px",requestAnimationFrame(()=>{t.style.height=n}),t.addEventListener("transitionend",()=>{t.style.height="auto"},{once:!0})},a=()=>{e.setAttribute("aria-expanded","false"),t.style.height=`${t.clientHeight}px`,requestAnimationFrame(()=>{t.style.height="0px"}),t.addEventListener("transitionend",()=>{t.hidden=!0,t.style.height=""},{once:!0})};e.addEventListener("click",t=>{t.preventDefault(),("true"===e.getAttribute("aria-expanded")?a:n)()})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("header");if(!e)return;const t=((e,t=80)=>{let n=0;return()=>{const a=Date.now();a-n>t&&(n=a,e())}})(()=>{e.classList.toggle("shadow-2xl",window.pageYOffset>8),e.classList.toggle("backdrop-blur-md",window.pageYOffset>8)});window.addEventListener("scroll",t,{passive:!0}),t()}),(()=>{const e=window.GD?.customFields||{},t="function"==typeof e.resolveIndex?e.resolveIndex:null,n=()=>{!0!==window.__snipcartQtyPatch&&(document.addEventListener("click",e=>{const n=e.target.closest(".snipcart-add-item");if(!n)return;const a=n.getAttribute("data-item-id")||n.dataset.itemId;if(!a)return;const o=document.getElementById(`qty-${a}`);if(o){const e=parseInt(o.textContent,10);!Number.isNaN(e)&&e>0&&n.setAttribute("data-item-quantity",String(e))}const s=Array.from(document.querySelectorAll("select[data-target]")).filter(e=>e.dataset.target===a);if(s.length){const e=(e=>{const t=[];return Array.from(e.attributes).forEach(e=>{const n=/^data-item-custom(\d+)-/i.exec(e.name);if(!n)return;const a=parseInt(n[1],10);Number.isFinite(a)&&t.push(a)}),t.sort((e,t)=>e-t)})(n),a=n.getAttribute("data-item-name")||"",o=n.dataset.itemNameFr||a,i=n.dataset.itemNameEn||a;s.forEach((s,r)=>{let d=null;if(t&&(d=t(s,{button:n,fallbackIndexes:e,position:r})),!Number.isFinite(d)||d<=0){d=(e=>{const t=parseInt(e,10);return Number.isFinite(t)&&t>0?t:null})(s.dataset.customIndex||"")??e[r]??e[e.length-1]??r+1}s.dataset.customIndex=String(d);const c=null==s.value?"":`${s.value}`;let l=c;if(s.classList.contains("multiplier-select")){const e=c&&""!==`${c}`.trim()?`${c}`:"1";l=e,o&&!n.dataset.gdBaseNameFr&&(n.dataset.gdBaseNameFr=o),i&&!n.dataset.gdBaseNameEn&&(n.dataset.gdBaseNameEn=i);const t=("en"===("en"===document.documentElement.lang?"en":"fr")?n.dataset.gdBaseNameEn||i:n.dataset.gdBaseNameFr||o)||n.dataset.gdBaseName||a||n.getAttribute("data-item-name")||"";t&&(n.dataset.gdBaseName||(n.dataset.gdBaseName=t),n.setAttribute("data-item-name",t)),n.dataset.gdMultiplier=e}n.setAttribute(`data-item-custom${d}-value`,l)})}},{passive:!0}),window.__snipcartQtyPatch=!0)};window.__ensureSnipcartQtyPatch=n;document.addEventListener("DOMContentLoaded",()=>{const e=e=>{const t=e.dataset.target,n=e.dataset.customIndex,a=document.querySelector(`.snipcart-add-item[data-item-id="${t}"]`);a&&n&&a.setAttribute(`data-item-custom${n}-value`,e.value)};document.querySelectorAll("select[data-target][data-custom-index]").forEach(t=>{t.addEventListener("change",()=>e(t)),e(t)}),document.querySelectorAll(".snipcart-add-item").forEach(t=>{t.addEventListener("click",n=>{const a=t.dataset.itemId||t.getAttribute("data-item-id");document.querySelectorAll(`select[data-target="${a}"]`).forEach(t=>e(t))})})}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n,{once:!0}):n()})(),document.addEventListener("DOMContentLoaded",()=>{document.getElementById("snipcart")});const toggleSnipcartScroll=()=>{const e=document.getElementById("snipcart"),t=!!e?.querySelector(".snipcart-order"),n="visible"===window.Snipcart?.store?.getState()?.cart?.status;document.body.classList.toggle("snipcart-open",n&&!t)};function copyEmailToClipboard(e,t){"use strict";navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{showCopyFeedback(t,!0)}).catch(n=>{fallbackCopyEmail(e,t)}):fallbackCopyEmail(e,t)}function fallbackCopyEmail(e,t){"use strict";const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.select();try{showCopyFeedback(t,document.execCommand("copy"))}catch(e){showCopyFeedback(t,!1)}finally{document.body.removeChild(n)}}function showCopyFeedback(e,t){"use strict";const n=e.querySelector(".copy-feedback");if(n)if(t)n.classList.remove("hidden"),n.classList.add("animate-pulse"),setTimeout(()=>{n.classList.add("hidden"),n.classList.remove("animate-pulse")},2e3);else{const e=n.textContent;n.textContent="✗ Erreur",n.classList.remove("hidden","bg-green-600"),n.classList.add("bg-red-600"),setTimeout(()=>{n.textContent=e,n.classList.add("hidden","bg-green-600"),n.classList.remove("bg-red-600")},2e3)}}function playSound(e,t=.5){try{const n=new Audio(e);n.volume=Math.max(0,Math.min(1,t)),n.play().catch(e=>{console.debug("Audio autoplay bloqué:",e)})}catch(e){console.debug("Erreur lecture audio:",e)}}window.addEventListener("snipcart.opened",toggleSnipcartScroll),window.addEventListener("snipcart.closed",toggleSnipcartScroll),window.addEventListener("snipcart.ready",()=>{const e=document.getElementById("snipcart");e&&new MutationObserver(toggleSnipcartScroll).observe(e,{childList:!0,subtree:!0}),toggleSnipcartScroll()}),document.addEventListener("DOMContentLoaded",()=>{const e=()=>{document.documentElement.getAttribute("data-cmp-status")};document.addEventListener("cmpConsentUpdate",e=>{const t=e.detail?.purposes||{};t.analytics,t.marketing,document.dispatchEvent(new CustomEvent("gdConsentUpdate",{detail:{purposes:t,timestamp:Date.now()}}))}),e(),["snipcart_*","PHPSESSID","lang_preference","cart_session"].forEach(e=>{document.documentElement.setAttribute(`data-cookie-essential-${e.replace("*","all")}`,"true")});const t=setInterval(()=>{const n=document.documentElement.getAttribute("data-cmp-status");n&&"unknown"!==n&&(clearInterval(t),e())},500);setTimeout(()=>clearInterval(t),1e4)}),(()=>{function e(e=".hero-text h1",t=50,n=500){const a=document.querySelector(e);if(a&&!a.dataset.typed){const e=a.textContent.trim();a.textContent="",a.dataset.typed="true",a.hasAttribute("data-i18n")&&(a.dataset.originalI18n=a.getAttribute("data-i18n"),a.removeAttribute("data-i18n"));let o=0;const s=()=>{o<e.length&&(a.textContent+=e.charAt(o),o++,setTimeout(s,t))};setTimeout(s,n)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>e()):e(),document.addEventListener("languageChanged",()=>{const t=document.querySelector(".hero-text h1");t&&(t.dataset.typed=!1,t.dataset.originalI18n&&t.setAttribute("data-i18n",t.dataset.originalI18n),setTimeout(()=>e(),100))}),window.initTypewriterTitle=e})(),(()=>{class e{constructor(){this.nav=document.querySelector(".shop-quick-links"),this.hero=document.querySelector("section.min-h-screen"),this.links=this.nav?Array.from(this.nav.querySelectorAll('a[href^="#"]')):[],this.sections=[],this.isSticky=!1,this.scrollThreshold=0,this.nav&&this.hero&&this.init()}init(){this.updateScrollThreshold(),this.links.forEach(e=>{const t=e.getAttribute("href").substring(1),n=document.getElementById(t);n&&this.sections.push({id:t,element:n,link:e})}),window.addEventListener("scroll",this.handleScroll.bind(this),{passive:!0}),window.addEventListener("resize",this.debounce(()=>this.updateScrollThreshold(),200)),this.links.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href").substring(1),a=document.getElementById(n);if(a){const e=a.offsetTop-(this.isSticky?this.nav.offsetHeight+parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height")||"0"):0);window.scrollTo({top:e,behavior:"smooth"})}})}),this.handleScroll()}updateScrollThreshold(){this.hero&&(this.scrollThreshold=this.hero.offsetHeight-100)}handleScroll(){const e=window.scrollY||window.pageYOffset;e>this.scrollThreshold&&!this.isSticky?(this.nav.classList.add("sticky-active"),this.isSticky=!0):e<=this.scrollThreshold&&this.isSticky&&(this.nav.classList.remove("sticky-active"),this.isSticky=!1),this.isSticky&&this.updateActiveSection(e)}updateActiveSection(e){let t=null;const n=this.nav.offsetHeight+parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height")||"0")+50;for(let a=this.sections.length-1;a>=0;a--){const o=this.sections[a];if(e>=o.element.offsetTop-n){t=o;break}}this.links.forEach(e=>e.classList.remove("active")),t&&t.link.classList.add("active")}debounce(e,t){let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...a)},t)}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>new e):new e})(),window.copyEmailToClipboard=copyEmailToClipboard,document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("snipcart.ready",()=>{window.Snipcart.events.on("item.added",e=>{playSound("media/sounds/coin-drop.mp3",.5)})}),document.addEventListener("click",e=>{e.target.closest(".snipcart-add-item")&&setTimeout(()=>{playSound("media/sounds/coin-drop.mp3",.5)},50)})});