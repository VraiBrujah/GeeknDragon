formula_id,formula_expression,variables_used,description_fr,description_en,usage_context
# CALCULS COÛTS PLOMB
lead_total_10y_per_cart,"lead_cost_replacement_unit * (10 / lead_replacement_cycle_years) + lead_maintenance_10y_unit + premature_failure_risk + recycling_disposal_cost + (revenue_loss_yearly + overconsumption_cost_yearly + insurance_increase_yearly) * 10","lead_cost_replacement_unit,lead_replacement_cycle_years,lead_maintenance_10y_unit,premature_failure_risk,recycling_disposal_cost,revenue_loss_yearly,overconsumption_cost_yearly,insurance_increase_yearly","Coût total réel d'une voiturette avec batteries plomb sur 10 ans","Real total cost of one cart with lead batteries over 10 years","Calcul principal coût plomb"
lead_total_fleet_10y,"lead_total_10y_per_cart * current_cart_count","lead_total_10y_per_cart,current_cart_count","Coût total d'une flotte avec batteries plomb sur 10 ans","Total cost of a fleet with lead batteries over 10 years","Comparaison flotte"
lead_replacements_10y,"CEIL(10 / lead_replacement_cycle_years)","lead_replacement_cycle_years","Nombre de remplacements nécessaires sur 10 ans","Number of replacements needed over 10 years","Affichage comparaison"

# CALCULS COÛTS LIFEPO4
lifepo4_total_10y_per_cart,"lifepo4_monthly_10y * 12 * 10","lifepo4_monthly_10y","Coût total d'une voiturette LiFePO4 sur 10 ans (contrat 10 ans)","Total cost of one LiFePO4 cart over 10 years (10-year contract)","Calcul principal LiFePO4"
lifepo4_total_20y_per_cart,"lifepo4_monthly_20y * 12 * 20","lifepo4_monthly_20y","Coût total d'une voiturette LiFePO4 sur 20 ans (contrat 20 ans)","Total cost of one LiFePO4 cart over 20 years (20-year contract)","Calcul 20 ans"
lifepo4_total_fleet_per_cart,"lifepo4_monthly_fleet * 12 * 20","lifepo4_monthly_fleet","Coût total d'une voiturette LiFePO4 sur 20 ans (offre flotte)","Total cost of one LiFePO4 cart over 20 years (fleet offer)","Calcul flotte"
lifepo4_monthly_fleet_total,"lifepo4_monthly_fleet * current_cart_count","lifepo4_monthly_fleet,current_cart_count","Coût mensuel total pour une flotte LiFePO4","Total monthly cost for LiFePO4 fleet","Affichage prix flotte"

# CALCULS ÉCONOMIES
savings_10y_per_cart,"lead_total_10y_per_cart - lifepo4_total_10y_per_cart","lead_total_10y_per_cart,lifepo4_total_10y_per_cart","Économies par voiturette sur 10 ans","Savings per cart over 10 years","Calcul économies principales"
savings_fleet_10y,"savings_10y_per_cart * current_cart_count","savings_10y_per_cart,current_cart_count","Économies totales flotte sur 10 ans","Total fleet savings over 10 years","Affichage économies flotte"
savings_percentage_10y,"(savings_10y_per_cart / lead_total_10y_per_cart) * 100","savings_10y_per_cart,lead_total_10y_per_cart","Pourcentage d'économies sur 10 ans","Percentage of savings over 10 years","Calcul pourcentage"

# CALCULS IMPACT TEMPS DE CHARGE
extra_carts_needed,"ROUND(current_cart_count * fleet_overhead_percent / 100)","current_cart_count,fleet_overhead_percent","Nombre de voiturettes supplémentaires nécessaires","Number of additional carts needed","Impact temps charge"
extra_fleet_total_cost,"extra_carts_needed * extra_fleet_cost_per_cart","extra_carts_needed,extra_fleet_cost_per_cart","Coût total des voiturettes supplémentaires","Total cost of additional carts","Impact financier temps charge"
charging_impact_display,"lead_charging_hours + 'h = +' + extra_carts_needed + ' voiturettes (' + extra_fleet_total_cost + '$)'","lead_charging_hours,extra_carts_needed,extra_fleet_total_cost","Affichage impact temps de charge","Charging time impact display","Interface utilisateur"

# CALCULS MAINTENANCE
lead_maintenance_total_10y,"lead_maintenance_hours_unit * 10 * technician_hourly_rate","lead_maintenance_hours_unit,technician_hourly_rate","Coût total maintenance plomb sur 10 ans","Total lead maintenance cost over 10 years","Détail maintenance"
lead_maintenance_fleet_10y,"lead_maintenance_total_10y * current_cart_count","lead_maintenance_total_10y,current_cart_count","Coût maintenance flotte plomb sur 10 ans","Lead fleet maintenance cost over 10 years","Maintenance flotte"

# VALIDATIONS ET CONTRÔLES
fleet_offer_active,"current_cart_count >= fleet_minimum_carts","current_cart_count,fleet_minimum_carts","Vérification si offre flotte est active","Check if fleet offer is active","Logique interface"
price_per_cart_validation,"(monthly_price * 12 * contract_years) == total_price","monthly_price,contract_years,total_price","Validation cohérence prix mensuel vs total","Validation of monthly vs total price consistency","Contrôle qualité"

# COMPARAISONS POUR TABLEAU
comparison_lead_10y_total,"lead_total_10y_per_cart * current_cart_count","lead_total_10y_per_cart,current_cart_count","Coût total flotte plomb 10 ans pour comparaison","Total lead fleet cost 10 years for comparison","Tableau comparaison"
comparison_lifepo4_10y_total,"lifepo4_total_10y_per_cart * current_cart_count","lifepo4_total_10y_per_cart,current_cart_count","Coût total flotte LiFePO4 10 ans pour comparaison","Total LiFePO4 fleet cost 10 years for comparison","Tableau comparaison"
comparison_maintenance_hours_total,"lead_maintenance_hours_unit * current_cart_count","lead_maintenance_hours_unit,current_cart_count","Total heures maintenance flotte par an","Total fleet maintenance hours per year","Tableau comparaison"