/* ========================================================================
   Geek & Dragon — styles.css (full)
   Dernière mise à jour :
   - Header + nav + mobile
   - Drapeaux, Snipcart
   - Boutique (grille & cartes)
   - Page PRODUIT : .product-panel / .product-desc propres
   ===================================================================== */

/* --- Polices --- */
@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Cinzel:wght@400;600;700&display=swap');

/* --- Tailwind (si utilisé en CDN/build) --- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================================================
   BASE
   ===================================================================== */

html, body { font-family: 'Open Sans', sans-serif; }

body{
  background: url('/images/bg_texture.jpg') center/cover;
  background-attachment: scroll;
  color:#e5e7eb;
  line-height:1.6;
}

/* Titres + éléments “hero” en Cinzel (look médiéval) */
h1,h2,h3,h4,h5,h6,.btn,.txt-court,.title,.subtitle{ font-family:'Cinzel',serif; }
h1,h2,h3,h4,h5,h6{ line-height:1.25; }
.txt-court{ text-align:center; line-height:1.6; }

/* Titre site */
.site-title{ font-family:'Cinzel',serif; letter-spacing:.05em; }

/* Lien d’accès rapide */
.skip-link{
  position:absolute; top:-40px; left:0; background:#111827; color:#fff;
  padding:.5rem 1rem; z-index:1000;
}
.skip-link:focus{ top:0; }

/* ========================================================================
   PALETTE / VARIABLES
   ===================================================================== */

:root{
  --gd-primary:#6d28d9;           /* indigo-700 */
  --gd-primary-hover:#7c3aed;     /* indigo-600 */
  --gd-secondary:#d97706;         /* amber-600  */
  --gd-dark:#111827;              /* gray-900   */
  --gd-text:#e5e7eb;              /* gray-200   */
  --gd-muted:#9aa3b2;             /* gray-400~  */
  --gd-ring: rgba(79,70,229,.45); /* indigo halo */
  --header-height:0px;
}

/* ========================================================================
   BOUTONS (CTA)
   ===================================================================== */

.btn{
  display:inline-block; padding:.75rem 2rem; font-size:1.125rem; font-weight:600;
  letter-spacing:.025em; border-radius:9999px; transition:all .3s ease-in-out;
  transform:translateY(0) scale(1); text-align:center; font-family:'Cinzel',serif;
}
.btn-primary{
  color:#fff; background-image:linear-gradient(to right,#4338ca,#6b21a8);
  border:2px solid #3730a3; box-shadow:0 4px 14px rgba(0,0,0,.25);
}
.btn-primary:hover{
  background-image:linear-gradient(to right,#4f46e5,#7e22ce);
  transform:translateY(-4px) scale(1.05);
  box-shadow:0 12px 28px -4px rgba(94,58,237,.5);
  border-color:#4f46e5;
}
.btn-primary:focus{ outline:none; box-shadow:0 0 0 3px rgba(126,34,206,.4); }

.btn-outline{
  color:#c7d2fe; border:2px solid #818cf8; background:transparent;
}
.btn-outline:hover{ background:rgba(129,140,248,.1); transform:translateY(-3px) scale(1.05); }
.btn-outline:focus{ outline:none; box-shadow:0 0 0 3px rgba(129,140,248,.4); }

/* CTA boutique */
.btn-shop{ color:#fff; background-image:linear-gradient(to right,#4338ca,#6b21a8); border:2px solid #3730a3; box-shadow:0 4px 14px rgba(0,0,0,.25); }
.btn-shop:hover{ background-image:linear-gradient(to right,#4f46e5,#7e22ce); transform:translateY(-4px) scale(1.05); box-shadow:0 12px 28px -4px rgba(94,58,237,.5); border-color:#4f46e5; }
.btn-shop:focus{ outline:none; box-shadow:0 0 0 3px rgba(126,34,206,.4); }
.btn-shop:disabled{ background:#4b5563; color:#d1d5db; cursor:not-allowed; transform:none; box-shadow:none; }

/* ========================================================================
   CARTES PRODUITS (grille boutique)
   ===================================================================== */

.card-product{
  border-radius:.75rem; background:rgb(31 41 55 / 1); padding:1.5rem;
  box-shadow:0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);
  transition:transform 200ms cubic-bezier(.4,0,.2,1);
  display:flex; flex-direction:column; align-items:center; text-align:center; height:100%;
}
.card-product:hover{ transform:translateY(-5px) scale(1.02); box-shadow:0 12px 30px -8px rgba(0,0,0,.6); }

/* zone média carrée, image non déformée */
.card-product .media{
  width:100%; aspect-ratio:1/1; position:relative; overflow:hidden; border-radius:.75rem;
  background:rgba(255,255,255,.035);
}
.card-product .media img{ position:absolute; inset:0; width:100%; height:100%; object-fit:contain; object-position:center; }

/* titres/textes */
.card-product .title{
  margin-top:.75rem; font-family:'Cinzel',serif; font-weight:700;
  font-size:1.125rem; line-height:1.3; word-break:break-word; hyphens:auto;
}


@media (min-width:40px){
  .card-product .desc{
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 8;     /* coupe “propre” après 8 lignes */
    overflow: hidden;
  }
}

/* ========================================================================
   MEDIA PRODUITS (images & vidéos)
   ===================================================================== */

.product-media-wrapper{
  width:100%;
  overflow:hidden;
  border-radius:.75rem;
  display:flex;
  align-items:center;
  justify-content:center;
}
.product-media{
  width:100%;
  object-fit:cover;
  display:block;
}
.product-media.portrait{ object-fit:contain; }

/* Grille boutique */
.card .product-media-wrapper{ height:12rem; }
.card .product-media{ height:100%; }
.card .product-media.portrait{
  height:auto; max-height:100%; width:auto; margin-left:auto; margin-right:auto;
}

/* Page produit */
.main-product .product-media-wrapper{ max-height:32rem; }
.main-product .product-media{ max-height:100%; }

/* ========================================================================
   ANIMS
   ===================================================================== */
@keyframes fadeUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}
.fade-up{animation:fadeUp .6s ease-out both;}

/* ========================================================================
   HEADER / NAV
   ===================================================================== */

 .header-logo{ height:var(--header-height); width:auto; display:block; }

header nav a, header nav .txt-court{
  font-family:'Cinzel',serif!important; text-transform:uppercase;
  letter-spacing:.04em; line-height:1.2; white-space:nowrap;
}
header nav ul{ gap:1.25rem 1rem; }
header nav a{ padding:.35rem .15rem; border-radius:.5rem; }
header nav a:hover{ text-decoration:underline; text-underline-offset:6px; }
header nav a.is-active, header nav a[aria-current="page"]{
  color:#c7d2fe; text-decoration:underline; text-underline-offset:6px; text-decoration-thickness:2px;
}
header .max-w-7xl{ flex-wrap:nowrap; }

/* Snipcart (compte + panier) */
.snipcart-btn{
  border-radius:9999px; border:2px solid rgb(129 140 248 / 1);
  padding:.5rem 1rem; color:#fff; font-family:'Cinzel',serif; transition:all .15s cubic-bezier(.4,0,.2,1);
}
.snipcart-checkout{ position:relative; }
.snipcart-checkout:hover{ background:#818cf8; color:#fff; }
.snipcart-checkout:focus,.snipcart-checkout:active{ background:#4f46e5; color:#fff; outline:2px solid #fff; outline-offset:2px; }
.snipcart-checkout .snipcart-items-count{
  position:absolute; top:-.5rem; right:-.75rem; display:flex; width:1.25rem; height:1.25rem;
  align-items:center; justify-content:center; border-radius:9999px; background:#4f46e5; font-size:.75rem; font-weight:700; color:#fff;
}

/* Drapeaux langue */
.flag-btn{
  display:inline-flex; align-items:center; justify-content:center;
  inline-size:38px; aspect-ratio:4/3; border-radius:6px; overflow:hidden;
  border:2px solid rgba(129,140,248,.6); background:transparent; padding:0;
  transition:box-shadow .2s, border-color .2s, transform .15s;
}
.flag-btn img{ width:100%; height:100%; display:block; object-fit:cover; }
.flag-btn[aria-current="true"]{ border-color:#4f46e5; box-shadow:0 0 0 3px var(--gd-ring); }
.flag-btn:hover{ transform:translateY(-1px); }
.flag-btn:focus-visible{ outline:2px solid #fff; outline-offset:2px; }

/* Burger & mobile panel */
#mobile-menu{ z-index:60; }
#menu-overlay{ transition:opacity .2s ease; }

/* ========================================================================
   PAGE PRODUIT — Helpers & Correctifs
   ===================================================================== */

/* Panneau centré et largeur confortable */
.product-panel{ max-width:820px; margin-inline:auto; }

/* ===== Description fiche produit ===== */
.product-desc{
  text-align:left; line-height:1.65; color:#e6e8ee; font-size:.98rem;
  word-break:break-word; hyphens:auto;
}
/* Titres internes */
.product-desc h3,.product-desc h4{
  color:#fff; margin:.7rem 0 .4rem; line-height:1.25;
}
.product-desc h3{
  font-size:1.2rem; text-transform:uppercase; letter-spacing:.03em;
  text-align:center;
}
.product-desc h4{ font-size:1.05rem; }
/* Paragraphes & listes */
.product-desc p{ margin:.55rem 0; }
.product-desc ul,.product-desc ol{
  margin:.45rem 0 .75rem 1.25rem; padding-left:.2rem; list-style-position:outside;
}
.product-desc li{ margin:.25rem 0; }
/* Citations */
.product-desc blockquote{
  margin:.75rem 0; padding:.65rem .9rem; border-left:3px solid rgba(90,160,255,.55);
  background:rgba(255,255,255,.04); font-style:italic;
}
/* Optionnel : élargir légèrement la carte produit */
.product-card,.product-panel{ max-width:820px; margin-left:auto; margin-right:auto; }

/* Quantité / Multiplicateur */
.quantity-selector{
  display:flex; align-items:center; justify-content:center; gap:1rem; margin:1rem auto;
  min-width:10rem;
}
.multiplier-select, select.select{
  display:block; margin:0 auto; min-width:10rem; padding:.5rem 2rem .5rem 1rem;
  font-size:1.125rem; line-height:1.5; border-radius:.5rem;
  background:#111827; color:#e5e7eb; border:1px solid rgba(255,255,255,.2);
  appearance:none; background-position:calc(100% - .75rem) center;
}
.multiplier-slot{ height:3rem; display:flex; align-items:center; justify-content:center; }
.quantity-btn{
  width:3rem; height:3rem; display:flex; align-items:center; justify-content:center;
  font-size:1.25rem; font-weight:700; color:#e0e7ff;
  background:linear-gradient(to right,#3730a3,#4f46e5);
  border:2px solid #4338ca; border-radius:9999px; box-shadow:0 2px 6px rgba(0,0,0,.25);
  transition:all .2s ease-in-out; cursor:pointer;
}
.quantity-btn:hover{ background:linear-gradient(to right,#4f46e5,#6366f1); transform:scale(1.1); box-shadow:0 8px 16px -4px rgba(99,102,241,.4); }
.quantity-btn:active{ transform:scale(.95); box-shadow:none; }
.qty-value{ font-size:1.125rem; font-weight:600; color:#c7d2fe; text-align:center; min-width:2rem; }

/* Swiper (galerie produit) */
.swiper{ width:100%; position:relative; }
.swiper-slide img{ width:100%; height:auto; max-height:22rem; object-fit:contain; }
@media (min-width:768px){ .swiper-slide img{ max-height:28rem; } }
.swiper-button-prev,.swiper-button-next{
  color:#fff; background-image:linear-gradient(to right,#4f46e5,#7c3aed);
  border-radius:9999px; width:2.5rem; height:2.5rem; display:flex; align-items:center; justify-content:center;
}
.swiper-button-prev::after,.swiper-button-next::after{ font-size:1rem; }
.swiper-pagination-bullet{ background:#4f46e5; opacity:1; }
.swiper-pagination-bullet-active{ background:#7c3aed; }

/* Miniatures Swiper */
.swiper-thumbs{ width:100%; }
.swiper-thumbs .swiper-slide{ width:25%; height:auto; opacity:.6; cursor:pointer; }
.swiper-thumbs .swiper-slide-thumb-active{ opacity:1; }
.swiper-thumbs .swiper-slide img{ width:auto; max-height:5rem; }

/* Paiement – logos */
.payment-icons{ display:inline-flex; gap:.5rem; vertical-align:middle; align-items:center; }
.payment-icons img{ height:1.5rem; width:auto; display:block; }

/* ========================================================================
   FORMULAIRES / CONTENT
   ===================================================================== */

input,textarea,select{ background:#333; color:#fff; }
select option{ background:#333; color:#fff; }
input.gd-field,textarea.gd-field{
  margin-bottom:1rem; width:100%; border-radius:.5rem; background:#333; padding:.75rem; color:#fff;
}
input.gd-field::placeholder,textarea.gd-field::placeholder{ color:#fff; }
input.gd-field:focus,textarea.gd-field:focus{
  outline:2px solid transparent; outline-offset:2px;
  box-shadow:0 0 0 3px rgb(99 102 241 / 1);
}

/* Logo plus visible */
.logo-lighten{ filter:brightness(1.3) contrast(1.1); }

/* Cartouche (parchemin) */
.parchment{
  background:#fdf8e4 url('../images/parchment_fibers.png') repeat;
  box-shadow:0 15px 40px -10px rgba(0,0,0,.7); border:3px solid #c4a36d;
  color:#1f2937; border-radius:.75rem; padding:1rem 1.25rem;
}

/* ========================================================================
   ACCESSIBILITÉ / FOCUS
   ===================================================================== */

:focus-visible{ outline:2px solid #fff; outline-offset:2px; }
.link-underline{ text-decoration:underline; text-underline-offset:3px; }
.link-underline:hover{ text-underline-offset:5px; }

/* ========================================================================
   GRILLES / UTILITAIRES
   ===================================================================== */

.text-xxs{ font-size:.65rem; line-height:1rem; }
.text-xs2{ font-size:.775rem; line-height:1.1rem; }
.text-md2{ font-size:1.075rem; line-height:1.4rem; }
.text-lg2{ font-size:1.175rem; line-height:1.5rem; }
.text-xl2{ font-size:1.375rem; line-height:1.6rem; }
.text-2xl2{ font-size:1.625rem; line-height:1.6rem; }
.text-3xl2{ font-size:2rem; line-height:1.2; }

.container-7xl{ max-width:80rem; margin:0 auto; padding-inline:1rem; }
.stack-sm>*+*{ margin-top:.5rem; }
.stack-md>*+*{ margin-top:1rem; }
.stack-lg>*+*{ margin-top:1.5rem; }
.cluster{ display:flex; flex-wrap:wrap; gap:.75rem; align-items:center; }
.center{ display:grid; place-items:center; }

.surface{
  background:rgba(31,41,55,.75);
  border:1px solid rgba(255,255,255,.06);
  border-radius:.75rem; box-shadow:0 10px 20px -10px rgba(0,0,0,.45);
  padding:1rem;
}
.hr-dim{ height:1px; background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent); border:0; }

.badge{ display:inline-flex; align-items:center; gap:.35rem; line-height:1; padding:.3rem .5rem; border-radius:.5rem; background:rgba(129,140,248,.12); color:#e5e7eb; border:1px solid rgba(129,140,248,.35); }
.badge--gold{ background:linear-gradient(180deg,#b9924b,#8f6a2b); color:#121212; border:none; }
.badge--muted{ background:rgba(148,163,184,.15); border:1px solid rgba(148,163,184,.35); color:#cbd5e1; }

.shadow-soft{ box-shadow:0 10px 30px -15px rgba(0,0,0,.45); }
.shadow-inset{ box-shadow:inset 0 1px 2px rgba(0,0,0,.25); }

.grad-indigo{ background-image:linear-gradient(90deg,#4f46e5,#7c3aed); }
.grad-ember{ background-image:linear-gradient(90deg,#b45309,#f59e0b); }
.grad-obsidian{ background-image:linear-gradient(180deg,rgba(0,0,0,.4),rgba(0,0,0,.1)); }

.btn-sq{ border-radius:.75rem; padding:.6rem 1rem; }
.btn-sq--ghost{ background:transparent; border:1px solid rgba(255,255,255,.15); color:#e5e7eb; }
.btn-sq--ghost:hover{ background:rgba(255,255,255,.06); }

.btn-arrow{ position:relative; padding-right:2.2rem; }
.btn-arrow::after{ content:'→'; position:absolute; right:.9rem; top:50%; transform:translateY(-50%); transition:transform .2s ease; }
.btn-arrow:hover::after{ transform:translate(4px,-50%); }

.table{ width:100%; border-collapse:collapse; }
.table th,.table td{ padding:.6rem .75rem; border-bottom:1px solid rgba(255,255,255,.08); }
.table th{ text-align:left; color:#cbd5e1; font-weight:600; }
.table tr:hover td{ background:rgba(255,255,255,.02); }

pre,code{ font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
pre{ background:rgba(0,0,0,.35); padding:1rem; border-radius:.5rem; overflow:auto; }
code{ background:rgba(0,0,0,.25); border-radius:.35rem; padding:.1rem .25rem; }

.alert{ border-radius:.75rem; padding:1rem 1.25rem; border:1px solid transparent; }
.alert--info{ background:rgba(59,130,246,.08); border-color:rgba(59,130,246,.35); }
.alert--warn{ background:rgba(245,158,11,.08); border-color:rgba(245,158,11,.35); }
.alert--danger{ background:rgba(239,68,68,.08); border-color:rgba(239,68,68,.35); }

.modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; }
.modal[open]{ display:flex; }
.modal__panel{ background:rgba(17,24,39,.98); border:1px solid rgba(255,255,255,.08); border-radius:1rem; width:min(96vw,680px); max-height:85vh; overflow:auto; }

.icon-16{ width:16px; height:16px; } .icon-20{ width:20px; height:20px; }
.icon-24{ width:24px; height:24px; } .icon-28{ width:28px; height:28px; } .icon-32{ width:32px; height:32px; }

.mt-1h{ margin-top:.375rem; } .mt-2h{ margin-top:.625rem; } .mt-3h{ margin-top:.875rem; }
.pb-1h{ padding-bottom:.375rem; } .pb-2h{ padding-bottom:.625rem; }

.text-muted{ color:var(--gd-muted); } .text-soft{ color:#cfd5ff; }
.bg-soft{ background:rgba(255,255,255,.06); } .border-soft{ border:1px solid rgba(255,255,255,.08); }

/* nouvelle version : carte min 340–360px => wrap si pas la place */
.grid-auto{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  gap: 1.25rem;
}
@media (min-width:1280px){
  .grid-auto{
    grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
  }
}

.hero-overlay{ position:relative; }
.hero-overlay::after{ content:""; position:absolute; inset:0; background:radial-gradient(1200px 500px at 50% -20%, rgba(255,255,255,.08), transparent 60%); pointer-events:none; }
.hero-text{ font-weight:700; text-shadow:0 1px 3px rgba(0,0,0,.8); }

.breadcrumbs{ display:flex; gap:.5rem; align-items:center; color:#cbd5e1; font-size:.9rem; }
.breadcrumbs a{ color:#e5e7eb; } .breadcrumbs a:hover{ text-decoration:underline; }

.avatar{ width:40px; height:40px; border-radius:9999px; object-fit:cover; display:block; }
.tag{ display:inline-block; padding:.25rem .5rem; border-radius:.4rem; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); }

.footer-grid{ display:grid; gap:1.2rem; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); }
.footer a{ color:#cbd5e1; } .footer a:hover{ color:#fff; }

/* ========================================================================
   RWD / MEDIA QUERIES
   ===================================================================== */

@media (max-width:480px){
  .container-7xl{ padding-inline:.75rem; }
  .header-logo{ height:var(--header-height); }
  header nav ul{ gap:1rem .75rem; }
}
@media (max-width:768px){
  header nav{ font-size:.95rem; }
  .surface{ padding:.875rem; }
}
@media (min-width:1024px){
  .surface{ padding:1.25rem; }
  .grid-auto{ gap:1.25rem; }
}
@media (min-width:1280px){ .container-7xl{ max-width:80rem; } }
@media (min-width:1536px){ .container-7xl{ max-width:90rem; } }

/* ========================================================================
   DÉCORATIONS / DIVERS
   ===================================================================== */

.rim-gold{ position:relative; isolation:isolate; }
.rim-gold::before{
  content:""; position:absolute; inset:-2px; border-radius:inherit;
  background:linear-gradient(180deg,#b9924b,#8f6a2b); z-index:-1;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude; padding:2px;
}

.scroll-box{
  background:#fdf8e4;
  background-image:
    radial-gradient(closest-side at 30% 30%, rgba(0,0,0,.03), transparent),
    radial-gradient(closest-side at 70% 60%, rgba(0,0,0,.04), transparent);
  border:3px solid #c4a36d; box-shadow:0 15px 40px -10px rgba(0,0,0,.5);
  color:#1f2937; border-radius:.75rem; padding:1rem 1.25rem;
}

.t-ease{ transition:all .2s ease; }
.t-ease:hover{ transform:translateY(-1px); }

/* ========================================================================
   BOUTIQUE — grilles utilitaires
   ===================================================================== */

/* conteneur centré : largeur max et padding latéraux */
.shop-wrap{ max-width:1200px; margin-inline:auto; padding-inline:1rem; }

/* grille responsive adaptative */
.shop-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:2rem;
}

/* bouton plein largeur & ancré en bas de carte */
.card-product .btn-shop{ width:100%; margin-top:auto; }
