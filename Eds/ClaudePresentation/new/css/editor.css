/**
 * Styles sp√©cifiques √† l'interface de l'√©diteur
 * 
 * R√¥le : Interface de l'√©diteur de pr√©sentations avec layout et interactions
 * Type : Feuille de style pour composants d'√©dition
 * Responsabilit√© : Layout √©diteur, sidebars, canvas, modals
 */

/* ==========================================
   LAYOUT PRINCIPAL DE L'√âDITEUR
   ========================================== */

.editor-body {
    /* R√¥le : Configuration du body pour interface d'√©dition */
    /* Type : Layout principal fullscreen */
    /* Unit√© : Viewport units (vh, vw) */
    /* Domaine : 100% des dimensions viewport */
    /* Formule : Plein √©cran sans scroll pour interface professionnelle */
    /* Exemple : height: 100vh ‚Üí occupe toute la hauteur de l'√©cran */
    height: 100vh;
    overflow: hidden;
    background: var(--primary-dark);
    font-family: var(--font-primary);
}

.app-layout {
    /* R√¥le : Layout CSS Grid pour interface 3 colonnes */
    /* Type : Container principal avec sidebars et zone centrale */
    /* Unit√© : pixels (px) et fractions (fr) */
    /* Domaine : Largeurs optimales pour productivit√© */
    /* Formule : sidebar_left + main_content + sidebar_right */
    /* Exemple : 280px 1fr 320px ‚Üí sidebars fixes, centre flexible */
    display: grid;
    grid-template-columns: 280px 1fr 320px;
    height: calc(100vh - 120px); /* D√©duction de la hauteur du header */
    background: var(--primary-dark);
}

/* ==========================================
   HEADER DE L'APPLICATION
   ========================================== */

.app-header {
    /* R√¥le : Barre de navigation principale fixe */
    /* Type : Header sticky avec actions globales */
    /* Unit√© : pixels (px) pour hauteur et espacement */
    /* Domaine : Hauteur suffisante pour boutons confortables */
    /* Formule : Hauteur totale = contenu + status bar */
    /* Exemple : 80px + 40px = 120px de hauteur totale */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: var(--z-sticky);
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--surface-light);
}

.header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4) var(--space-6);
    height: 80px;
}

.header-brand {
    display: flex;
    align-items: center;
    gap: var(--space-4);
}

.app-logo {
    /* R√¥le : Container du logo avec design moderne */
    /* Type : Badge circulaire avec ic√¥ne */
    /* Unit√© : pixels (px) pour dimensions */
    /* Domaine : Taille suffisante pour visibilit√© */
    /* Formule : Cercle parfait avec ic√¥ne centr√©e */
    /* Exemple : 48px √ó 48px avec ic√¥ne FontAwesome */
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, var(--accent-green), var(--accent-teal));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    color: white;
    box-shadow: var(--shadow-md);
}

.brand-text {
    display: flex;
    flex-direction: column;
}

.app-title {
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--text-white);
    line-height: 1.2;
    margin: 0;
}

.app-subtitle {
    font-size: var(--text-sm);
    color: var(--text-muted);
    margin: 0;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.header-separator {
    width: 1px;
    height: 24px;
    background: var(--surface-light);
    margin: 0 var(--space-2);
}

/* Status bar */
.status-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-2) var(--space-6);
    height: 40px;
    background: var(--secondary-dark);
    border-top: 1px solid var(--surface-light);
    font-size: var(--text-xs);
}

.status-info {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    color: var(--text-gray);
}

.presentation-meta {
    color: var(--text-muted);
}

.sync-status {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    color: var(--success-color);
    font-size: var(--text-xs);
}

.sync-status.syncing {
    color: var(--warning-color);
}

.sync-status.error {
    color: var(--error-color);
}

/* ==========================================
   SIDEBARS
   ========================================== */

.app-sidebar {
    /* R√¥le : Panneaux lat√©raux pour outils et propri√©t√©s */
    /* Type : Container vertical avec onglets */
    /* Unit√© : pixels (px) pour largeur fixe */
    /* Domaine : Largeur optimale pour usabilit√© */
    /* Formule : Assez large pour contenu, pas trop pour √©cran */
    /* Exemple : 280px ‚Üí largeur confortable sans encombrer */
    background: var(--secondary-dark);
    border-right: 1px solid var(--surface-light);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.right-sidebar {
    border-right: none;
    border-left: 1px solid var(--surface-light);
}

.sidebar-content {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.sidebar-tabs {
    display: flex;
    background: var(--tertiary-dark);
    border-bottom: 1px solid var(--surface-light);
}

.sidebar-tab {
    /* R√¥le : Onglets de navigation dans les sidebars */
    /* Type : Bouton d'onglet avec √©tat actif */
    /* Unit√© : Flex pour r√©partition √©gale */
    /* Domaine : Largeur √©gale pour tous les onglets */
    /* Formule : flex: 1 ‚Üí r√©partition √©quitable de l'espace */
    /* Exemple : 3 onglets ‚Üí chacun prend 33.33% de largeur */
    flex: 1;
    padding: var(--space-3) var(--space-2);
    background: transparent;
    border: none;
    color: var(--text-gray);
    font-size: var(--text-xs);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-1);
}

.sidebar-tab:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-white);
}

.sidebar-tab.active {
    background: var(--accent-green);
    color: white;
}

.sidebar-tab i {
    font-size: var(--text-base);
}

.sidebar-panels {
    flex: 1;
    overflow: hidden;
    position: relative;
}

.sidebar-panel {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    padding: var(--space-4);
    overflow-y: auto;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-base);
}

.sidebar-panel.active {
    opacity: 1;
    visibility: visible;
}

.panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-4);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--surface-light);
}

.panel-header h3 {
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--text-white);
    margin: 0;
}

/* ==========================================
   WIDGETS PANEL
   ========================================== */

.widgets-filters {
    margin-bottom: var(--space-4);
}

.filter-search {
    position: relative;
    margin-bottom: var(--space-3);
}

.search-input {
    width: 100%;
    padding: var(--space-2) var(--space-8) var(--space-2) var(--space-3);
    background: var(--tertiary-dark);
    border: 1px solid var(--surface-light);
    border-radius: var(--radius-md);
    color: var(--text-white);
    font-size: var(--text-sm);
}

.search-input:focus {
    outline: none;
    border-color: var(--accent-green);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
}

.search-icon {
    position: absolute;
    right: var(--space-3);
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
    pointer-events: none;
}

.category-select {
    width: 100%;
    padding: var(--space-2);
    background: var(--tertiary-dark);
    border: 1px solid var(--surface-light);
    border-radius: var(--radius-md);
    color: var(--text-white);
    font-size: var(--text-sm);
}

.widgets-grid {
    /* R√¥le : Grille responsive pour affichage des widgets */
    /* Type : CSS Grid avec colonnes adaptatives */
    /* Unit√© : minmax() pour colonnes flexibles */
    /* Domaine : 1-2 colonnes selon largeur disponible */
    /* Formule : repeat(auto-fit, minmax(taille_min, 1fr)) */
    /* Exemple : minmax(120px, 1fr) ‚Üí min 120px, max √©gal */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: var(--space-3);
}

.widget-card {
    /* R√¥le : Carte repr√©sentant un widget disponible */
    /* Type : Composant interactive drag & drop */
    /* Unit√© : pixels (px) et rem pour espacement */
    /* Domaine : Taille optimale pour aper√ßu et clic */
    /* Formule : Hauteur suffisante pour ic√¥ne + nom + description */
    /* Exemple : padding + ic√¥ne 2rem + texte + marge */
    background: var(--tertiary-dark);
    border: 1px solid var(--surface-light);
    border-radius: var(--radius-md);
    padding: var(--space-3);
    cursor: grab;
    transition: all var(--transition-base);
    text-align: center;
    min-height: 100px;
}

.widget-card:hover {
    border-color: var(--accent-green);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.widget-card.dragging {
    opacity: 0.5;
    cursor: grabbing;
}

.widget-preview {
    font-size: 1.5rem;
    color: var(--accent-green);
    margin-bottom: var(--space-2);
}

.widget-info h4 {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-white);
    margin: 0 0 var(--space-1) 0;
}

.widget-info p {
    font-size: var(--text-xs);
    color: var(--text-muted);
    margin: 0;
    line-height: 1.3;
}

/* ==========================================
   SECTIONS PANEL
   ========================================== */

.sections-grid {
    display: grid;
    gap: var(--space-3);
}

.section-card {
    background: var(--tertiary-dark);
    border: 1px solid var(--surface-light);
    border-radius: var(--radius-md);
    padding: var(--space-4);
    cursor: pointer;
    transition: all var(--transition-base);
}

.section-card:hover {
    border-color: var(--accent-green);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.section-preview {
    /* R√¥le : Aper√ßu visuel miniature de la section */
    /* Type : Container de pr√©visualisation */
    /* Unit√© : pixels (px) pour dimensions fixes */
    /* Domaine : Taille suffisante pour aper√ßu lisible */
    /* Formule : Ratio 16:9 ou 4:3 pour pr√©visualisation */
    /* Exemple : 240px √ó 120px ‚Üí format paysage compact */
    height: 80px;
    background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-teal) 100%);
    border-radius: var(--radius-sm);
    margin-bottom: var(--space-3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
}

.section-info h4 {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-white);
    margin: 0 0 var(--space-2) 0;
}

.section-info p {
    font-size: var(--text-xs);
    color: var(--text-muted);
    margin: 0;
    line-height: 1.3;
}

.section-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: var(--space-2);
    font-size: var(--text-xs);
    color: var(--text-muted);
}

/* ==========================================
   TEMPLATES PANEL
   ========================================== */

.templates-grid {
    display: grid;
    gap: var(--space-4);
}

.template-card {
    background: var(--tertiary-dark);
    border: 2px solid var(--surface-light);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    cursor: pointer;
    transition: all var(--transition-base);
}

.template-card:hover {
    border-color: var(--accent-green);
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl);
}

.template-preview {
    height: 120px;
    background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-purple) 100%);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-4);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: white;
}

.template-info h4 {
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--text-white);
    margin: 0 0 var(--space-2) 0;
}

.template-info p {
    font-size: var(--text-sm);
    color: var(--text-gray);
    margin: 0;
    line-height: 1.4;
}

/* ==========================================
   ZONE CENTRALE - √âDITEUR
   ========================================== */

.app-main {
    /* R√¥le : Zone principale d'√©dition avec canvas */
    /* Type : Container central flexible */
    /* Unit√© : Flexbox avec overflow pour scroll */
    /* Domaine : Toute la zone centrale disponible */
    /* Formule : flex: 1 ‚Üí prend l'espace restant */
    /* Exemple : Entre sidebars, s'adapte √† la largeur √©cran */
    background: var(--primary-dark);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.editor-toolbar {
    /* R√¥le : Barre d'outils contextuelle de l'√©diteur */
    /* Type : Toolbar horizontal avec groupes d'actions */
    /* Unit√© : pixels (px) pour hauteur et espacement */
    /* Domaine : Hauteur confortable pour boutons */
    /* Formule : Hauteur bouton + padding vertical */
    /* Exemple : 32px boutons + 16px padding = 48px total */
    display: flex;
    align-items: center;
    padding: var(--space-3) var(--space-4);
    background: var(--secondary-dark);
    border-bottom: 1px solid var(--surface-light);
    gap: var(--space-4);
    min-height: 56px;
}

.toolbar-section {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.toolbar-separator {
    width: 1px;
    height: 24px;
    background: var(--surface-light);
}

.toolbar-btn {
    /* R√¥le : Boutons d'action dans la toolbar */
    /* Type : Bouton compact avec ic√¥ne et texte */
    /* Unit√© : pixels (px) et rem pour espacement */
    /* Domaine : Taille optimale pour clic pr√©cis */
    /* Formule : Padding minimal + contenu + √©tats hover */
    /* Exemple : 8px padding ‚Üí bouton compact mais cliquable */
    padding: var(--space-2) var(--space-3);
    background: transparent;
    border: 1px solid var(--surface-light);
    border-radius: var(--radius-sm);
    color: var(--text-gray);
    font-size: var(--text-xs);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    gap: var(--space-2);
    white-space: nowrap;
}

.toolbar-btn:hover:not(:disabled) {
    background: var(--surface-light);
    color: var(--text-white);
}

.toolbar-btn.active {
    background: var(--accent-green);
    color: white;
    border-color: var(--accent-green);
}

.toolbar-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.toolbar-btn.danger:hover:not(:disabled) {
    background: var(--error-color);
    border-color: var(--error-color);
    color: white;
}

/* Contr√¥les sp√©cialis√©s de la toolbar */
.zoom-controls {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.zoom-indicator {
    min-width: 3rem;
    text-align: center;
    font-size: var(--text-xs);
    color: var(--text-gray);
    font-weight: 500;
}

.view-modes {
    display: flex;
    background: var(--tertiary-dark);
    border-radius: var(--radius-sm);
    padding: 2px;
}

.view-modes .toolbar-btn {
    border: none;
    border-radius: var(--radius-sm);
    margin: 0;
}

/* ==========================================
   CANVAS D'√âDITION
   ========================================== */

.editor-canvas-container {
    /* R√¥le : Container scrollable pour le canvas d'√©dition */
    /* Type : Zone de travail avec scroll personnalis√© */
    /* Unit√© : Flexbox fill avec overflow */
    /* Domaine : Toute la zone restante apr√®s toolbar */
    /* Formule : flex: 1 ‚Üí remplit l'espace disponible */
    /* Exemple : S'adapte automatiquement √† la hauteur restante */
    flex: 1;
    overflow: auto;
    background: var(--primary-dark);
    position: relative;
}

/* Scroll bars personnalis√©es */
.editor-canvas-container::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.editor-canvas-container::-webkit-scrollbar-track {
    background: var(--secondary-dark);
}

.editor-canvas-container::-webkit-scrollbar-thumb {
    background: var(--surface-light);
    border-radius: 4px;
}

.editor-canvas-container::-webkit-scrollbar-thumb:hover {
    background: var(--surface-lighter);
}

.editor-canvas {
    /* R√¥le : Surface de travail principale pour la pr√©sentation */
    /* Type : Canvas d'√©dition avec zone de drop en dark mode */
    /* Unit√© : pixels (px) avec minimum et centrage */
    /* Domaine : Largeur min pour contenu, max pour lisibilit√© */
    /* Formule : min-width + auto margins ‚Üí centrage horizontal */
    /* Exemple : min 800px centr√© ‚Üí pr√©visualisation r√©aliste */
    min-width: 800px;
    min-height: 600px;
    margin: var(--space-8) auto;
    background: var(--secondary-dark);
    border: 1px solid var(--surface-light);
    box-shadow: var(--shadow-xl);
    border-radius: var(--radius-lg);
    overflow: hidden;
    position: relative;
}

.canvas-dropzone {
    /* R√¥le : Zone de drop initiale quand aucune section */
    /* Type : Placeholder interactif pour d√©marrage en dark mode */
    /* Unit√© : Flexbox centered avec hauteur minimum */
    /* Domaine : Toute la surface du canvas vide */
    /* Formule : Centrage parfait avec message engageant */
    /* Exemple : 600px minimum ‚Üí assez grand pour √™tre visible */
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 600px;
    background: linear-gradient(135deg, var(--primary-dark) 0%, var(--secondary-dark) 100%);
    color: var(--text-secondary);
    text-align: center;
    border: 2px dashed var(--surface-light);
    transition: all var(--transition-base);
}

.canvas-dropzone.dragover {
    border-color: var(--accent-green);
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(16, 185, 129, 0.1) 100%);
    transform: scale(1.02);
}

.dropzone-message {
    max-width: 400px;
}

.dropzone-message i {
    font-size: 3rem;
    color: var(--accent-green);
    margin-bottom: var(--space-4);
}

.dropzone-message h3 {
    font-size: var(--text-2xl);
    font-weight: 600;
    color: var(--text-white);
    margin-bottom: var(--space-2);
}

.dropzone-message p {
    color: var(--text-muted);
    margin-bottom: var(--space-6);
}

.presentation-sections {
    /* R√¥le : Container des sections de pr√©sentation */
    /* Type : Liste verticale de sections √©ditables en mode sombre */
    /* Unit√© : Block layout naturel avec fond sombre */
    /* Domaine : Sections empil√©es verticalement */
    /* Formule : Stack naturel avec espacement entre sections */
    /* Exemple : Section1, Section2, Section3... empil√©es en dark mode */
    background: transparent;
    min-height: 100%;
    color: var(--text-primary);
}

/* ==========================================
   SECTIONS DANS L'√âDITEUR
   ========================================== */

.editor-section {
    /* R√¥le : Section √©ditable dans le canvas */
    /* Type : Container de section avec contr√¥les */
    /* Unit√© : Block naturel avec espacement */
    /* Domaine : Largeur pleine avec hauteur variable */
    /* Formule : Contenu + toolbar + espacement */
    /* Exemple : Header invisible + contenu + actions */
    position: relative;
    background: white;
    border: 2px solid transparent;
    transition: all var(--transition-base);
}

.editor-section:hover {
    border-color: var(--accent-green);
}

.editor-section.selected {
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.section-controls {
    /* R√¥le : Barre de contr√¥les au survol de section */
    /* Type : Toolbar contextuelle flottante */
    /* Unit√© : Absolute positioning */
    /* Domaine : Au-dessus de la section */
    /* Formule : Position absolue en haut √† droite */
    /* Exemple : Boutons edit, move, delete */
    position: absolute;
    top: -1px;
    right: -1px;
    display: flex;
    gap: 2px;
    background: var(--accent-green);
    border-radius: var(--radius-sm);
    padding: 2px;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-base);
    z-index: 10;
}

.editor-section:hover .section-controls,
.editor-section.selected .section-controls {
    opacity: 1;
    visibility: visible;
}

.section-control-btn {
    /* R√¥le : Boutons de contr√¥le de section */
    /* Type : Bouton mini avec ic√¥ne uniquement */
    /* Unit√© : pixels (px) pour taille fixe */
    /* Domaine : Petits boutons compacts */
    /* Formule : Carr√© parfait pour ic√¥ne */
    /* Exemple : 24px √ó 24px ‚Üí assez grand pour clic */
    width: 24px;
    height: 24px;
    background: rgba(255, 255, 255, 0.2);
    border: none;
    border-radius: 2px;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    transition: all var(--transition-base);
}

.section-control-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
}

.section-control-btn.danger:hover {
    background: var(--error-color);
}

/* ==========================================
   PROPRI√âT√âS PANEL
   ========================================== */

.properties-content {
    /* R√¥le : Zone d'affichage des propri√©t√©s de l'√©l√©ment s√©lectionn√© */
    /* Type : Container dynamique avec formulaires */
    /* Unit√© : Flexbox vertical avec scroll */
    /* Domaine : Toute la hauteur disponible du panel */
    /* Formule : Formulaires empil√©s avec groupes */
    /* Exemple : Groupe Text, Groupe Style, Groupe Position */
    height: 100%;
    overflow-y: auto;
}

.no-selection-message {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 200px;
    color: var(--text-muted);
    text-align: center;
}

.no-selection-message i {
    font-size: 2rem;
    margin-bottom: var(--space-4);
    opacity: 0.5;
}

.properties-group {
    margin-bottom: var(--space-6);
}

.properties-group h4 {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-white);
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--surface-light);
}

.property-row {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
}

.property-label {
    min-width: 80px;
    font-size: var(--text-xs);
    color: var(--text-gray);
    font-weight: 500;
}

.property-input {
    flex: 1;
    padding: var(--space-2);
    background: var(--tertiary-dark);
    border: 1px solid var(--surface-light);
    border-radius: var(--radius-sm);
    color: var(--text-white);
    font-size: var(--text-xs);
}

.property-input:focus {
    outline: none;
    border-color: var(--accent-green);
}

/* ==========================================
   STYLES PANEL
   ========================================== */

.style-groups {
    /* R√¥le : Container des groupes de propri√©t√©s CSS */
    /* Type : Accord√©on de groupes style */
    /* Unit√© : Block layout avec groupes collapsibles */
    /* Domaine : Toute la hauteur du panel */
    /* Formule : Groupes empil√©s avec expand/collapse */
    /* Exemple : Typography, Colors, Spacing, Layout */
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
}

.style-group {
    background: var(--tertiary-dark);
    border-radius: var(--radius-md);
    overflow: hidden;
}

.group-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-3);
    background: var(--surface-light);
    cursor: pointer;
    transition: background-color var(--transition-base);
}

.group-header:hover {
    background: var(--surface-lighter);
}

.group-header h4 {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-white);
    margin: 0;
}

.group-toggle {
    background: none;
    border: none;
    color: var(--text-gray);
    cursor: pointer;
    transition: transform var(--transition-base);
}

.group-toggle.expanded {
    transform: rotate(180deg);
}

.group-content {
    padding: var(--space-4);
    max-height: 0;
    overflow: hidden;
    transition: max-height var(--transition-base);
}

.group-content.expanded {
    max-height: 1000px; /* Valeur suffisamment grande */
}

/* ==========================================
   MODALS
   ========================================== */

.modal {
    /* R√¥le : Overlay modal pour dialogues */
    /* Type : Full screen overlay avec backdrop */
    /* Unit√© : Fixed positioning avec z-index √©lev√© */
    /* Domaine : Couvre tout l'√©cran */
    /* Formule : Fixed + z-index + backdrop blur */
    /* Exemple : Dialog centr√© sur fond semi-transparent */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    z-index: var(--z-modal);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-base);
}

.modal.show {
    opacity: 1;
    visibility: visible;
}

.modal-dialog {
    /* R√¥le : Container du contenu modal */
    /* Type : Card flottante avec contenu */
    /* Unit√© : Max-width avec espacement */
    /* Domaine : Largeur optimale pour lecture */
    /* Formule : max-width + margin auto + padding */
    /* Exemple : 500px max ‚Üí lisible sur tous √©crans */
    background: var(--secondary-dark);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-xl);
    max-width: 500px;
    width: 90%;
    max-height: 80vh;
    overflow: hidden;
    transform: translateY(-20px) scale(0.95);
    transition: all var(--transition-base);
}

.modal.show .modal-dialog {
    transform: translateY(0) scale(1);
}

.modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4) var(--space-6);
    border-bottom: 1px solid var(--surface-light);
}

.modal-header h2 {
    font-size: var(--text-xl);
    font-weight: 600;
    color: var(--text-white);
    margin: 0;
}

.modal-close {
    background: none;
    border: none;
    color: var(--text-gray);
    font-size: var(--text-lg);
    cursor: pointer;
    padding: var(--space-1);
    border-radius: var(--radius-sm);
    transition: all var(--transition-base);
}

.modal-close:hover {
    color: var(--text-white);
    background: var(--surface-light);
}

.modal-body {
    padding: var(--space-6);
    max-height: 60vh;
    overflow-y: auto;
}

.modal-footer {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: var(--space-3);
    padding: var(--space-4) var(--space-6);
    border-top: 1px solid var(--surface-light);
    background: var(--tertiary-dark);
}

/* ==========================================
   LOADING ET NOTIFICATIONS
   ========================================== */

.loading-overlay {
    /* R√¥le : Overlay de chargement full-screen */
    /* Type : Spinner centr√© avec message */
    /* Unit√© : Fixed positioning */
    /* Domaine : Couvre tout l'√©cran */
    /* Formule : Centrage absolu avec backdrop */
    /* Exemple : Spinner + texte "Chargement..." */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(15, 23, 42, 0.9);
    backdrop-filter: blur(4px);
    z-index: var(--z-modal);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity var(--transition-base);
}

.loading-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-4);
    color: var(--text-white);
    text-align: center;
}

.loading-spinner {
    font-size: 2rem;
    color: var(--accent-green);
}

.loading-message {
    font-size: var(--text-lg);
    font-weight: 500;
}

/* Toast notifications */
.toast-container {
    /* R√¥le : Container pour notifications toast */
    /* Type : Stack de notifications temporaires */
    /* Unit√© : Fixed positioning en coin */
    /* Domaine : Coin de l'√©cran pour visibilit√© */
    /* Formule : Position fixe + stack vertical */
    /* Exemple : Coin bas-droit avec toast empil√©s */
    position: fixed;
    bottom: var(--space-6);
    right: var(--space-6);
    z-index: var(--z-toast);
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    max-width: 400px;
}

.toast {
    background: var(--secondary-dark);
    color: var(--text-white);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border-left: 4px solid var(--accent-green);
    box-shadow: var(--shadow-lg);
    transform: translateX(100%);
    animation: slideInRight 0.3s ease-out forwards;
}

.toast.success {
    border-left-color: var(--success-color);
}

.toast.warning {
    border-left-color: var(--warning-color);
}

.toast.error {
    border-left-color: var(--error-color);
}

@keyframes slideInRight {
    to {
        transform: translateX(0);
    }
}

/* ==========================================
   RESPONSIVE ADAPTATIONS
   ========================================== */

@media (max-width: 1280px) {
    .app-layout {
        grid-template-columns: 250px 1fr 280px;
    }
}

@media (max-width: 1024px) {
    .app-layout {
        grid-template-columns: 1fr;
        position: relative;
    }
    
    .app-sidebar {
        position: fixed;
        top: 120px;
        bottom: 0;
        width: 280px;
        z-index: var(--z-fixed);
        transform: translateX(-100%);
        transition: transform var(--transition-base);
    }
    
    .app-sidebar.show {
        transform: translateX(0);
    }
    
    .right-sidebar {
        right: 0;
        transform: translateX(100%);
    }
    
    .right-sidebar.show {
        transform: translateX(0);
    }
}

@media (max-width: 768px) {
    .header-content {
        padding: var(--space-3) var(--space-4);
    }
    
    .header-actions .btn span {
        display: none;
    }
    
    .editor-toolbar {
        flex-wrap: wrap;
        gap: var(--space-2);
    }
    
    .editor-canvas {
        margin: var(--space-4);
        min-width: auto;
    }
    
    .toast-container {
        left: var(--space-4);
        right: var(--space-4);
        max-width: none;
    }
}

/* ==========================================
   MESSAGE PR√âSENTATION VIDE
   ========================================== */

.empty-presentation-message {
    /* R√¥le : Message d'aide pour pr√©sentation vide */
    /* Type : Container centr√© avec ic√¥ne et texte */
    /* Unit√© : Flexbox centr√© vertical/horizontal */
    /* Domaine : Zone canvas compl√®te */
    /* Formule : Centrage absolu avec espacement */
    /* Exemple : Ic√¥ne + titre + description */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 60vh;
    color: var(--text-muted);
    text-align: center;
    padding: var(--space-8);
}

.empty-presentation-message .empty-icon {
    /* R√¥le : Ic√¥ne principale du message vide */
    /* Type : Container d'ic√¥ne avec styling */
    /* Unit√© : Font size et couleurs */
    /* Domaine : 4rem avec couleur accent */
    /* Formule : Grande taille avec couleur accent */
    /* Exemple : Ic√¥ne plus-circle en vert accent */
    font-size: 4rem;
    color: var(--accent-green);
    margin-bottom: var(--space-6);
    opacity: 0.8;
}

.empty-presentation-message h3 {
    /* R√¥le : Titre principal du message vide */
    /* Type : Heading avec taille et espacement */
    /* Unit√© : Font size et margin */
    /* Domaine : 1.5rem avec margin bottom */
    /* Formule : Titre visible mais discret */
    /* Exemple : "Pr√©sentation vide" */
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: var(--space-4);
    color: var(--text-secondary);
}

.empty-presentation-message p {
    /* R√¥le : Description d'aide pour l'utilisateur */
    /* Type : Texte explicatif multi-ligne */
    /* Unit√© : Font size et line height */
    /* Domaine : Texte centr√© avec largeur max */
    /* Formule : Guide utilisateur clair */
    /* Exemple : "Commencez par ajouter..." */
    max-width: 400px;
    line-height: 1.6;
    color: var(--text-muted);
    margin: 0;
}

/* ==========================================
   INTERFACE HI√âRARCHIQUE
   ========================================== */

.hierarchy-header {
    /* R√¥le : En-t√™te moderne pour la section hi√©rarchique */
    /* Type : Container flex avec statistiques */
    /* Unit√© : Flexbox horizontal avec espacement */
    /* Domaine : Titre + stats dans la largeur de sidebar */
    /* Formule : Flex justify-between pour r√©partition */
    /* Exemple : Titre √† gauche, stats √† droite */
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    background: linear-gradient(135deg, var(--primary-dark) 0%, var(--accent-blue) 100%);
    padding: var(--space-4);
    border-radius: var(--radius);
    margin-bottom: var(--space-4);
    box-shadow: var(--shadow-lg);
    border: 1px solid rgba(59, 130, 246, 0.3);
}

.header-content h3 {
    /* R√¥le : Titre principal de l'en-t√™te */
    /* Type : Typography avec ic√¥ne */
    /* Unit√© : Font size et spacing */
    /* Domaine : Titre visible et engageant */
    /* Formule : Taille adapt√©e au sidebar */
    /* Exemple : "üèóÔ∏è Architecte de Pr√©sentation" */
    color: var(--text-primary);
    font-size: 1.1rem;
    font-weight: 700;
    margin: 0 0 var(--space-1) 0;
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.header-content h3 i {
    /* R√¥le : Ic√¥ne du titre principal */
    /* Type : Icon styling avec effet */
    /* Unit√© : Color avec transition */
    /* Domaine : Ic√¥ne attirante et coh√©rente */
    /* Formule : Couleur accent avec animation */
    /* Exemple : Ic√¥ne sitemap en vert accent */
    color: var(--accent-green);
    font-size: 1.2rem;
}

.header-subtitle {
    /* R√¥le : Sous-titre explicatif */
    /* Type : Text muted et compact */
    /* Unit√© : Font size r√©duite */
    /* Domaine : Explication courte et claire */
    /* Formule : Couleur muted pour hi√©rarchie visuelle */
    /* Exemple : "Cr√©ez votre pr√©sentation..." */
    color: var(--text-muted);
    font-size: 0.85rem;
    margin: 0;
    line-height: 1.4;
}

.header-stats {
    /* R√¥le : Container des statistiques */
    /* Type : Flex column pour stats empil√©es */
    /* Unit√© : Flexbox vertical */
    /* Domaine : 2-3 statistiques compactes */
    /* Formule : Column layout avec espacement minimal */
    /* Exemple : "12 √âl√©ments" + "3 Niveaux" */
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    align-items: flex-end;
}

.stat-item {
    /* R√¥le : Item de statistique individuel */
    /* Type : Container nombre + label */
    /* Unit√© : Text alignment center */
    /* Domaine : Stat compacte et lisible */
    /* Formule : Alignement centr√© avec espacement */
    /* Exemple : "5" + "√âl√©ments" */
    text-align: center;
    min-width: 60px;
}

.stat-number {
    /* R√¥le : Nombre de la statistique */
    /* Type : Typography emphasized */
    /* Unit√© : Font size et weight */
    /* Domaine : Chiffre visible et impactant */
    /* Formule : Taille plus grande + couleur accent */
    /* Exemple : "12", "3", "45" */
    display: block;
    font-size: 1.4rem;
    font-weight: 800;
    color: var(--accent-green);
    line-height: 1;
}

.stat-label {
    /* R√¥le : Label de la statistique */
    /* Type : Typography small muted */
    /* Unit√© : Font size r√©duite */
    /* Domaine : Label descriptif court */
    /* Formule : Couleur muted + taille petite */
    /* Exemple : "√âl√©ments", "Niveaux", "Widgets" */
    display: block;
    font-size: 0.7rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: 2px;
}


.hierarchy-levels {
    /* R√¥le : Container des diff√©rents niveaux hi√©rarchiques */
    /* Type : Stack vertical des niveaux */
    /* Unit√© : Gap vertical entre niveaux */
    /* Domaine : Tous les niveaux de construction */
    /* Formule : Stack des accordion de niveaux */
    /* Exemple : M√©ta-Section, Section, Sous-Section, etc. */
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
}

.hierarchy-level {
    /* R√¥le : Niveau hi√©rarchique individuel (accordion) */
    /* Type : Container expandable avec header + contenu */
    /* Unit√© : Border et border-radius */
    /* Domaine : Un niveau de la hi√©rarchie */
    /* Formule : Header cliquable + contenu collapsible */
    /* Exemple : "M√©ta-Sections" avec liste des m√©ta-sections */
    background: var(--secondary-dark);
    border: 1px solid var(--surface-light);
    border-radius: 0.5rem;
    overflow: hidden;
}

.level-header {
    /* R√¥le : Header cliquable du niveau hi√©rarchique */
    /* Type : Button-like header avec ic√¥ne et expand */
    /* Unit√© : Padding et flexbox */
    /* Domaine : Zone de titre + contr√¥le expand/collapse */
    /* Formule : Ic√¥ne + titre + bouton expand */
    /* Exemple : Layer-group icon + "M√©ta-Sections" + chevron */
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-3) var(--space-4);
    background: var(--tertiary-dark);
    border-bottom: 1px solid var(--surface-light);
    cursor: pointer;
    transition: background var(--transition-base);
}

.level-header:hover {
    background: rgba(71, 85, 105, 0.3);
}

.level-header h4 {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin: 0;
    color: var(--text-secondary);
    font-size: 1rem;
    font-weight: 600;
}

.level-header h4 i {
    color: var(--accent-green);
}

.btn-expand {
    /* R√¥le : Bouton d'expansion/collapse du niveau */
    /* Type : Bouton rotatif avec transition */
    /* Unit√© : Transform rotate pour animation */
    /* Domaine : √âtat expanded/collapsed */
    /* Formule : Rotation 180¬∞ pour indiquer l'√©tat */
    /* Exemple : Chevron-down ‚Üí Chevron-up (rotated) */
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: var(--space-1);
    border-radius: 0.25rem;
    transition: all var(--transition-base);
}

.btn-expand:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--accent-green);
}

.btn-expand.expanded {
    transform: rotate(180deg);
}

.level-content {
    /* R√¥le : Contenu du niveau hi√©rarchique (collapsible) */
    /* Type : Container avec animation de hauteur */
    /* Unit√© : Max-height pour animation smooth */
    /* Domaine : Contenu d'un niveau (description + √©l√©ments) */
    /* Formule : Animation de hauteur pour reveal/hide */
    /* Exemple : Description + grille des √©l√©ments disponibles */
    padding: var(--space-4);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.level-content.expanded {
    max-height: 1000px;
}

.level-description {
    /* R√¥le : Description explicative du niveau */
    /* Type : Texte d'aide contextuelle */
    /* Unit√© : Font size et margin */
    /* Domaine : Explication du r√¥le du niveau */
    /* Formule : Texte informatif en couleur muted */
    /* Exemple : "Grandes zones de votre pr√©sentation..." */
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-bottom: var(--space-4);
    font-style: italic;
}

.elements-grid {
    /* R√¥le : Grille des √©l√©ments disponibles par niveau */
    /* Type : Grid responsive avec cartes d'√©l√©ments */
    /* Unit√© : CSS Grid avec gap */
    /* Domaine : √âl√©ments draggables d'un niveau */
    /* Formule : Grid 2 colonnes avec gap uniforme */
    /* Exemple : Cartes "Header", "Body", "Footer" pour M√©ta */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: var(--space-3);
}

.element-card {
    /* R√¥le : Carte d'√©l√©ment draggable */
    /* Type : Container cliquable avec ic√¥ne + nom */
    /* Unit√© : Padding, border-radius, transition */
    /* Domaine : Repr√©sentation d'un √©l√©ment constructible */
    /* Formule : Ic√¥ne + nom + √©tat hover/drag */
    /* Exemple : Carte "Hero Section" avec ic√¥ne th-large */
    background: var(--primary-dark);
    border: 1px solid var(--surface-light);
    border-radius: 0.5rem;
    padding: var(--space-3);
    text-align: center;
    cursor: grab;
    transition: all var(--transition-base);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-2);
}

.element-card:hover {
    border-color: var(--accent-green);
    background: rgba(16, 185, 129, 0.1);
    transform: translateY(-2px);
}

.element-card:active {
    cursor: grabbing;
    transform: translateY(0) scale(0.95);
}

.element-card.dragging {
    opacity: 0.5;
    transform: rotate(5deg);
}

.element-card i {
    font-size: 1.5rem;
    color: var(--accent-green);
}

.element-card .element-name {
    font-size: 0.8rem;
    color: var(--text-secondary);
    font-weight: 500;
}

.element-card .element-description {
    font-size: 0.7rem;
    color: var(--text-muted);
    margin-top: var(--space-1);
}

/* Templates categories */
.templates-categories {
    /* R√¥le : Filtres par cat√©gorie de templates */
    /* Type : Boutons de filtrage horizontal */
    /* Unit√© : Flexbox avec gap */
    /* Domaine : Cat√©gories de templates disponibles */
    /* Formule : Boutons toggle pour filtrage */
    /* Exemple : "Tous", "M√©ta", "Sections", "Complets" */
    display: flex;
    gap: var(--space-2);
    margin-bottom: var(--space-4);
    flex-wrap: wrap;
}

.template-category {
    /* R√¥le : Bouton de cat√©gorie de template */
    /* Type : Toggle button avec √©tat actif */
    /* Unit√© : Padding et border-radius */
    /* Domaine : Filtre par type de template */
    /* Formule : √âtat actif/inactif avec couleurs */
    /* Exemple : Bouton "M√©ta" actif en vert */
    background: var(--secondary-dark);
    border: 1px solid var(--surface-light);
    border-radius: 0.5rem;
    padding: var(--space-2) var(--space-3);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    gap: var(--space-1);
    font-size: 0.8rem;
}

.template-category:hover {
    background: var(--tertiary-dark);
    border-color: var(--accent-green);
}

.template-category.active {
    background: var(--accent-green);
    border-color: var(--accent-green);
    color: white;
}

.template-card {
    /* R√¥le : Carte de template draggable */
    /* Type : Container avec preview et info */
    /* Unit√© : Padding et spacing */
    /* Domaine : Template pr√©d√©fini utilisable */
    /* Formule : Preview + titre + description */
    /* Exemple : Carte "Li-CUBE PRO" avec ic√¥ne batterie */
    background: var(--secondary-dark);
    border: 1px solid var(--surface-light);
    border-radius: 0.5rem;
    padding: var(--space-3);
    cursor: grab;
    transition: all var(--transition-base);
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.template-card:hover {
    border-color: var(--accent-green);
    background: rgba(16, 185, 129, 0.1);
    transform: translateY(-2px);
}

.template-card:active {
    cursor: grabbing;
    transform: scale(0.95);
}

.template-preview {
    /* R√¥le : Zone de preview du template */
    /* Type : Container d'ic√¥ne repr√©sentative */
    /* Unit√© : Flexbox centr√© avec taille fixe */
    /* Domaine : Visualisation rapide du template */
    /* Formule : Ic√¥ne grande taille centr√©e */
    /* Exemple : Ic√¥ne layer-group pour m√©ta-section */
    display: flex;
    align-items: center;
    justify-content: center;
    height: 60px;
    background: var(--primary-dark);
    border-radius: 0.25rem;
    margin-bottom: var(--space-2);
}

.template-preview i {
    font-size: 2rem;
    color: var(--accent-green);
}

.template-info h4 {
    margin: 0 0 var(--space-1) 0;
    color: var(--text-secondary);
    font-size: 0.9rem;
    font-weight: 600;
}

.template-info p {
    margin: 0;
    color: var(--text-muted);
    font-size: 0.75rem;
    line-height: 1.4;
}

/* ==========================================
   BOUTONS D'AJOUT D'√âL√âMENTS HI√âRARCHIQUES
   ========================================== */

/* R√¥le : Actions de niveau pour cr√©ation d'√©l√©ments */
/* Type : Container pour boutons d'ajout par niveau */
/* Unit√© : pixels (px) pour marges et espacement */
/* Domaine : Zone d'actions sous la description du niveau */
/* Formule : margin + padding pour espacement optimal */
/* Exemple : Actions centr√©es avec espacement uniforme */
.level-actions {
    margin: var(--space-2) 0;
    padding: var(--space-2);
    background: var(--surface-light);
    border-radius: var(--radius);
    border: 1px solid var(--surface-lighten);
    text-align: center;
}

/* R√¥le : Bouton d'ajout d'√©l√©ment pour chaque niveau */
/* Type : Bouton primaire avec ic√¥ne pour cr√©ation */
/* Unit√© : pixels (px) pour dimensions et espacement */
/* Domaine : Bouton de taille moyenne bien visible */
/* Formule : padding + border + box-shadow pour relief */
/* Exemple : Bouton vert avec ic√¥ne plus et texte descriptif */
.add-element-btn {
    background: linear-gradient(135deg, var(--primary-dark) 0%, var(--accent-green) 100%);
    color: white;
    border: none;
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius);
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all var(--transition-fast) ease;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
}

.add-element-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    background: linear-gradient(135deg, var(--accent-green) 0%, var(--primary-dark) 100%);
}

.add-element-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);
}

.add-element-btn i {
    font-size: 1rem;
}

/* ==========================================
   MODAL DE S√âLECTION DE TAILLE
   ========================================== */

/* R√¥le : Overlay modal pour s√©lection de taille d'√©l√©ment */
/* Type : Modal fullscreen avec fond semi-transparent */
/* Unit√© : Sans unit√© (pourcentages et valeurs relatives) */
/* Domaine : Plein √©cran avec centrage parfait */
/* Formule : position fixed + flexbox pour centrage */
/* Exemple : Fond noir 50% transparent avec modal centr√© */
.size-selector-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(15, 23, 42, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    backdrop-filter: blur(4px);
}

/* R√¥le : Contenu principal du modal de s√©lection */
/* Type : Container modal avec design moderne */
/* Unit√© : pixels (px) pour dimensions et espacement */
/* Domaine : Modal de taille moyenne pour interface simple */
/* Formule : width + max-width pour responsive + padding */
/* Exemple : 500px de large avec bordure et ombre */
.size-selector-content {
    background: var(--secondary-dark);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    width: 90%;
    max-width: 500px;
    border: 1px solid var(--surface-light);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

/* R√¥le : En-t√™te du modal avec titre et bouton fermeture */
/* Type : Header modal avec alignement flex */
/* Unit√© : Sans unit√© pour alignement et marges relatives */
/* Domaine : Titre √† gauche, bouton fermeture √† droite */
/* Formule : justify-content space-between pour alignement */
/* Exemple : H2 color√© + bouton X en coin */
.size-selector-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-4);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--surface-light);
}

.size-selector-header h2 {
    margin: 0;
    color: var(--primary-dark);
    font-size: 1.5rem;
    font-weight: 700;
}

.size-selector-close {
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 1.5rem;
    cursor: pointer;
    padding: var(--space-1);
    border-radius: var(--radius);
    transition: all var(--transition-fast) ease;
}

.size-selector-close:hover {
    background: var(--surface-light);
    color: var(--text-primary);
}

/* R√¥le : Corps du modal avec options de dimensionnement */
/* Type : Container pour contr√¥les de taille */
/* Unit√© : pixels (px) pour espacement des √©l√©ments */
/* Domaine : Zone principale avec grille d'options */
/* Formule : margin-bottom pour espacement vertical */
/* Exemple : Formulaire de s√©lection organis√© en grille */
.size-selector-body {
    margin-bottom: var(--space-4);
}

/* R√¥le : Groupe de contr√¥les pour largeur/hauteur */
/* Type : Container pour chaque dimension */
/* Unit√© : pixels (px) pour marges et espacement */
/* Domaine : Groupe logique pour une dimension */
/* Formule : margin-bottom pour s√©paration des groupes */
/* Exemple : Groupe Largeur + Groupe Hauteur */
.size-group {
    margin-bottom: var(--space-3);
}

.size-group label {
    display: block;
    margin-bottom: var(--space-1);
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.9rem;
}

/* R√¥le : Grille d'options de taille pr√©d√©finies */
/* Type : Grid layout pour boutons de s√©lection */
/* Unit√© : Fractions (fr) et pixels pour colonnes */
/* Domaine : Grille responsive pour options multiples */
/* Formule : repeat(auto-fit, minmax(80px, 1fr)) pour responsive */
/* Exemple : Boutons 25%, 50%, 75%, 100%, Auto */
.size-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
    gap: var(--space-2);
    margin-bottom: var(--space-2);
}

/* R√¥le : Bouton de s√©lection de taille pr√©d√©finie */
/* Type : Bouton radio styl√© avec √©tat actif */
/* Unit√© : pixels (px) pour padding et bordure */
/* Domaine : Boutons carr√©s avec pourcentages ou valeurs */
/* Formule : padding + border + border-radius pour design uniforme */
/* Exemple : Boutons 25%, 50%, 75%, 100% avec √©tat s√©lectionn√© */
.size-option {
    background: var(--surface-light);
    border: 2px solid var(--surface-lighten);
    color: var(--text-secondary);
    padding: var(--space-2);
    border-radius: var(--radius);
    cursor: pointer;
    text-align: center;
    font-weight: 600;
    font-size: 0.85rem;
    transition: all var(--transition-fast) ease;
}

.size-option:hover {
    border-color: var(--primary-dark);
    color: var(--text-primary);
    background: var(--surface-lighten);
}

.size-option.active {
    background: var(--primary-dark);
    border-color: var(--primary-dark);
    color: white;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

/* R√¥le : Input pour valeur personnalis√©e */
/* Type : Champ de saisie num√©rique avec unit√© */
/* Unit√© : pixels (px) pour dimensions du champ */
/* Domaine : Input de largeur moyenne pour valeurs */
/* Formule : width fixe + padding pour saisie confortable */
/* Exemple : Champ 120px pour valeurs comme "350px" ou "75%" */
.size-custom-input {
    background: var(--surface-light);
    border: 1px solid var(--surface-lighten);
    color: var(--text-primary);
    padding: var(--space-2);
    border-radius: var(--radius);
    font-size: 0.9rem;
    width: 120px;
    text-align: center;
}

.size-custom-input:focus {
    outline: none;
    border-color: var(--primary-dark);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
}

/* R√¥le : Actions du modal (boutons Cr√©er/Annuler) */
/* Type : Container pour boutons d'action */
/* Unit√© : Sans unit√© pour alignement flex */
/* Domaine : Boutons align√©s √† droite du modal */
/* Formule : justify-content flex-end pour alignement droite */
/* Exemple : Bouton Annuler + Bouton Cr√©er c√¥te √† c√¥te */
.size-selector-actions {
    display: flex;
    justify-content: flex-end;
    gap: var(--space-2);
    padding-top: var(--space-2);
    border-top: 1px solid var(--surface-light);
}

.size-selector-actions .btn {
    padding: var(--space-2) var(--space-4);
    font-weight: 600;
}

/* ==========================================
   ZONE DE DROP HI√âRARCHIQUE
   ========================================== */

/* R√¥le : Zone de drop pour √©l√©ments hi√©rarchiques */
/* Type : Zone de destination drag & drop */
/* Unit√© : pixels (px) pour hauteur minimale et bordures */
/* Domaine : Zone visible pour indiquer possibilit√© de drop */
/* Formule : min-height + border + border-radius pour zone attractive */
/* Exemple : Zone pointill√©e qui s'anime lors du survol */
.elements-grid[data-drop-zone] {
    min-height: 80px;
    border: 2px dashed var(--surface-lighten);
    border-radius: var(--radius);
    padding: var(--space-2);
    margin-top: var(--space-2);
    transition: all var(--transition-fast) ease;
    position: relative;
}

.elements-grid[data-drop-zone]:empty::before {
    content: "Glissez vos √©l√©ments ici ou utilisez le bouton d'ajout";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--text-muted);
    font-size: 0.85rem;
    font-style: italic;
    text-align: center;
    pointer-events: none;
}

.elements-grid[data-drop-zone].drag-over {
    border-color: var(--primary-dark);
    background: rgba(16, 185, 129, 0.05);
    border-style: solid;
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
}

/* R√¥le : √âl√©ment hi√©rarchique cr√©√© et plac√© */
/* Type : Carte d'√©l√©ment dans la hi√©rarchie */
/* Unit√© : pixels (px) pour dimensions et espacement */
/* Domaine : Carte compacte avec informations essentielles */
/* Formule : padding + border-radius + box-shadow pour design coh√©rent */
/* Exemple : Carte avec titre, type, dimensions et actions */
.hierarchy-element {
    background: var(--surface-light);
    border: 1px solid var(--surface-lighten);
    border-radius: var(--radius);
    padding: var(--space-3);
    margin-bottom: var(--space-2);
    position: relative;
    cursor: move;
    transition: all var(--transition-fast) ease;
}

.hierarchy-element:hover {
    border-color: var(--primary-dark);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translateY(-1px);
}

.hierarchy-element-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-1);
}

.hierarchy-element-title {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.9rem;
    margin: 0;
}

.hierarchy-element-type {
    background: var(--primary-dark);
    color: white;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
}

.hierarchy-element-dimensions {
    color: var(--text-muted);
    font-size: 0.8rem;
    margin-bottom: var(--space-2);
}

.hierarchy-element-actions {
    display: flex;
    gap: var(--space-1);
    opacity: 0;
    transition: opacity var(--transition-fast) ease;
}

.hierarchy-element:hover .hierarchy-element-actions {
    opacity: 1;
}

.hierarchy-element-actions .btn-mini {
    padding: 4px 8px;
    font-size: 0.7rem;
}