<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Configuration de l'√©diteur de pr√©sentations moderne -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âditeur de Pr√©sentations - PresentationEngine</title>
    <meta name="description" content="Cr√©ateur de pr√©sentations modernes avec widgets et sections personnalisables">
    
    <!-- Polices modernes pour interface professionnelle -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles de base de l'application -->
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/editor.css">
</head>
<body class="editor-body">
    
    <!-- Header principal de l'application -->
    <header class="app-header">
        <div class="header-content">
            <!-- Logo et titre -->
            <div class="header-brand">
                <div class="app-logo">
                    <i class="fas fa-presentation"></i>
                </div>
                <div class="brand-text">
                    <h1 class="app-title">√âditeur de Pr√©sentations</h1>
                    <span class="app-subtitle">Cr√©ateur moderne et modulaire</span>
                </div>
            </div>
            
            <!-- Actions principales -->
            <div class="header-actions">
                <button id="btn-new-presentation" class="btn btn-primary" title="Nouvelle pr√©sentation">
                    <i class="fas fa-plus"></i>
                    <span>Nouveau</span>
                </button>
                
                <button id="btn-save-presentation" class="btn btn-success" title="Sauvegarder (Ctrl+S)">
                    <i class="fas fa-save"></i>
                    <span>Sauvegarder</span>
                </button>
                
                <button id="btn-preview-presentation" class="btn btn-info" title="Aper√ßu">
                    <i class="fas fa-eye"></i>
                    <span>Aper√ßu</span>
                </button>
                
                <div class="header-separator"></div>
                
                <button id="btn-undo" class="btn btn-outline" title="Annuler (Ctrl+Z)" disabled>
                    <i class="fas fa-undo"></i>
                </button>
                
                <button id="btn-redo" class="btn btn-outline" title="R√©tablir (Ctrl+Y)" disabled>
                    <i class="fas fa-redo"></i>
                </button>
                
                <div class="header-separator"></div>
                
                <button id="btn-settings" class="btn btn-outline" title="Param√®tres">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </div>
        
        <!-- Indicateur de statut -->
        <div class="status-bar">
            <div class="status-info">
                <span id="status-text">Pr√™t</span>
                <span id="presentation-info" class="presentation-meta"></span>
            </div>
            <div class="status-actions">
                <span id="sync-indicator" class="sync-status">
                    <i class="fas fa-sync-alt"></i>
                    <span>Synchronis√©</span>
                </span>
            </div>
        </div>
    </header>

    <!-- Layout principal de l'application -->
    <div class="app-layout">
        
        <!-- Sidebar gauche : Widgets et Sections -->
        <aside class="app-sidebar left-sidebar">
            <div class="sidebar-content">
                
                <!-- Onglets du sidebar -->
                <div class="sidebar-tabs">
                    <button class="sidebar-tab active" data-tab="hierarchy">
                        <i class="fas fa-sitemap"></i>
                        <span>Hi√©rarchie</span>
                    </button>
                    <button class="sidebar-tab" data-tab="elements">
                        <i class="fas fa-layer-group"></i>
                        <span>√âl√©ments</span>
                    </button>
                    <button class="sidebar-tab" data-tab="templates">
                        <i class="fas fa-magic"></i>
                        <span>Templates</span>
                    </button>
                </div>
                
                <!-- Contenu des onglets -->
                <div class="sidebar-panels">
                    
                    <!-- Panel de Hi√©rarchie -->
                    <div id="hierarchy-panel" class="sidebar-panel active">
                        <div class="panel-header">
                            <h3>Constructeur Hi√©rarchique</h3>
                            <button class="btn-mini" id="btn-refresh-hierarchy" title="Actualiser">
                                <i class="fas fa-refresh"></i>
                            </button>
                        </div>
                        
                        <!-- En-t√™te hi√©rarchique moderne -->
                        <div class="hierarchy-header">
                            <div class="header-content">
                                <h3>
                                    <i class="fas fa-sitemap"></i>
                                    Architecte de Pr√©sentation
                                </h3>
                                <p class="header-subtitle">
                                    Cr√©ez votre pr√©sentation de mani√®re hi√©rarchique et structur√©e
                                </p>
                            </div>
                            <div class="header-stats">
                                <div class="stat-item">
                                    <span class="stat-number" id="total-elements">0</span>
                                    <span class="stat-label">√âl√©ments</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number" id="active-level">1</span>
                                    <span class="stat-label">Niveau</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Niveaux hi√©rarchiques -->
                        <div class="hierarchy-levels">
                            
                            <!-- M√©ta-Sections -->
                            <div class="hierarchy-level" data-level="meta-section">
                                <div class="level-header">
                                    <h4>
                                        <i class="fas fa-layer-group"></i>
                                        M√©ta-Sections
                                    </h4>
                                    <button class="btn-expand" data-target="meta-sections">
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                                <div class="level-content" id="meta-sections">
                                    <p class="level-description">Grandes zones de votre pr√©sentation (Header, Body, Footer)</p>
                                    <div class="level-actions">
                                        <button class="btn btn-primary add-element-btn" data-level="meta-section">
                                            <i class="fas fa-plus"></i>
                                            Ajouter M√©ta-Section
                                        </button>
                                    </div>
                                    <div class="elements-grid" data-type="meta-section" data-drop-zone="meta-section">
                                        <!-- G√©n√©r√©s dynamiquement -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Sections -->
                            <div class="hierarchy-level" data-level="section">
                                <div class="level-header">
                                    <h4>
                                        <i class="fas fa-th-large"></i>
                                        Sections
                                    </h4>
                                    <button class="btn-expand" data-target="sections">
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                                <div class="level-content" id="sections">
                                    <p class="level-description">Sections th√©matiques (Hero, Pricing, Contact, etc.)</p>
                                    <div class="level-actions">
                                        <button class="btn btn-primary add-element-btn" data-level="section">
                                            <i class="fas fa-plus"></i>
                                            Ajouter Section
                                        </button>
                                    </div>
                                    <div class="elements-grid" data-type="section" data-drop-zone="section">
                                        <!-- G√©n√©r√©s dynamiquement -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Sous-Sections -->
                            <div class="hierarchy-level" data-level="sous-section">
                                <div class="level-header">
                                    <h4>
                                        <i class="fas fa-th"></i>
                                        Sous-Sections
                                    </h4>
                                    <button class="btn-expand" data-target="sous-sections">
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                                <div class="level-content" id="sous-sections">
                                    <p class="level-description">Zones de contenu (Colonnes, Zones sp√©cialis√©es)</p>
                                    <div class="level-actions">
                                        <button class="btn btn-primary add-element-btn" data-level="sous-section">
                                            <i class="fas fa-plus"></i>
                                            Ajouter Sous-Section
                                        </button>
                                    </div>
                                    <div class="elements-grid" data-type="sous-section" data-drop-zone="sous-section">
                                        <!-- G√©n√©r√©s dynamiquement -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Sous-Sous-Sections -->
                            <div class="hierarchy-level" data-level="sous-sous-section">
                                <div class="level-header">
                                    <h4>
                                        <i class="fas fa-th-list"></i>
                                        Sous-Sous-Sections
                                    </h4>
                                    <button class="btn-expand" data-target="sous-sous-sections">
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                                <div class="level-content" id="sous-sous-sections">
                                    <p class="level-description">Zones de d√©tail (Titre, Contenu, Actions)</p>
                                    <div class="level-actions">
                                        <button class="btn btn-primary add-element-btn" data-level="sous-sous-section">
                                            <i class="fas fa-plus"></i>
                                            Ajouter Sous-Sous-Section
                                        </button>
                                    </div>
                                    <div class="elements-grid" data-type="sous-sous-section" data-drop-zone="sous-sous-section">
                                        <!-- G√©n√©r√©s dynamiquement -->
                                    </div>
                                </div>
                            </div>

                            <!-- Widgets -->
                            <div class="hierarchy-level" data-level="widget">
                                <div class="level-header">
                                    <h4>
                                        <i class="fas fa-puzzle-piece"></i>
                                        Widgets
                                    </h4>
                                    <button class="btn-expand" data-target="widgets">
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                                <div class="level-content" id="widgets">
                                    <p class="level-description">√âl√©ments interactifs (Texte, Image, Bouton, etc.)</p>
                                    <div class="level-actions">
                                        <button class="btn btn-primary add-element-btn" data-level="widget">
                                            <i class="fas fa-plus"></i>
                                            Ajouter Widget
                                        </button>
                                    </div>
                                    <div class="elements-grid" data-type="widget" data-drop-zone="widget">
                                        <!-- G√©n√©r√©s dynamiquement -->
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                    <!-- Panel des √âl√©ments -->
                    <div id="elements-panel" class="sidebar-panel">
                        <div class="panel-header">
                            <h3>Biblioth√®que d'√âl√©ments</h3>
                            <button class="btn-mini" id="btn-refresh-elements" title="Actualiser">
                                <i class="fas fa-refresh"></i>
                            </button>
                        </div>
                        
                        <!-- Filtres des √©l√©ments -->
                        <div class="elements-filters">
                            <div class="filter-search">
                                <input type="text" id="elements-search" placeholder="Rechercher un √©l√©ment..." class="search-input">
                                <i class="fas fa-search search-icon"></i>
                            </div>
                            
                            <div class="filter-type">
                                <select id="elements-type-filter" class="type-select">
                                    <option value="">Tous les types</option>
                                    <option value="widget">Widgets</option>
                                    <option value="meta-section">M√©ta-Sections</option>
                                    <option value="section">Sections</option>
                                    <option value="sous-section">Sous-Sections</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Liste des √©l√©ments -->
                        <div id="elements-list" class="elements-grid">
                            <!-- Les √©l√©ments seront charg√©s dynamiquement -->
                        </div>
                    </div>
                    
                    <!-- Panel des Templates -->
                    <div id="templates-panel" class="sidebar-panel">
                        <div class="panel-header">
                            <h3>Templates Hi√©rarchiques</h3>
                            <button class="btn-mini" id="btn-create-template" title="Cr√©er un template">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        
                        <!-- Cat√©gories de templates -->
                        <div class="templates-categories">
                            <button class="template-category active" data-category="all">
                                <i class="fas fa-th"></i>
                                Tous
                            </button>
                            <button class="template-category" data-category="meta-section">
                                <i class="fas fa-layer-group"></i>
                                M√©ta
                            </button>
                            <button class="template-category" data-category="section">
                                <i class="fas fa-th-large"></i>
                                Sections
                            </button>
                            <button class="template-category" data-category="complete">
                                <i class="fas fa-magic"></i>
                                Complets
                            </button>
                        </div>
                        
                        <!-- Liste des templates -->
                        <div id="templates-list" class="templates-grid">
                            <!-- Templates pr√©d√©finis -->
                            <div class="template-card" data-template="meta-header" data-category="meta-section">
                                <div class="template-preview">
                                    <i class="fas fa-layer-group"></i>
                                </div>
                                <div class="template-info">
                                    <h4>Header Global</h4>
                                    <p>En-t√™te avec navigation</p>
                                </div>
                            </div>
                            
                            <div class="template-card" data-template="hero-section" data-category="section">
                                <div class="template-preview">
                                    <i class="fas fa-th-large"></i>
                                </div>
                                <div class="template-info">
                                    <h4>Hero Section</h4>
                                    <p>Banni√®re principale</p>
                                </div>
                            </div>
                            
                            <div class="template-card" data-template="li-cube-pro" data-category="complete">
                                <div class="template-preview">
                                    <i class="fas fa-battery-full"></i>
                                </div>
                                <div class="template-info">
                                    <h4>Li-CUBE PRO‚Ñ¢</h4>
                                    <p>Pr√©sentation compl√®te</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </aside>

        <!-- Zone centrale : √âditeur principal -->
        <main class="app-main">
            <div class="main-content">
                
                <!-- Toolbar de l'√©diteur -->
                <div class="editor-toolbar">
                    <div class="toolbar-section">
                        <button class="toolbar-btn" id="btn-add-section" title="Ajouter une section">
                            <i class="fas fa-plus"></i>
                            Section
                        </button>
                        
                        <button class="toolbar-btn" id="btn-section-up" title="Monter la section" disabled>
                            <i class="fas fa-arrow-up"></i>
                        </button>
                        
                        <button class="toolbar-btn" id="btn-section-down" title="Descendre la section" disabled>
                            <i class="fas fa-arrow-down"></i>
                        </button>
                        
                        <button class="toolbar-btn danger" id="btn-delete-section" title="Supprimer la section" disabled>
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    
                    <div class="toolbar-separator"></div>
                    
                    <div class="toolbar-section">
                        <div class="zoom-controls">
                            <button class="toolbar-btn" id="btn-zoom-out" title="Zoom arri√®re">
                                <i class="fas fa-search-minus"></i>
                            </button>
                            <span id="zoom-level" class="zoom-indicator">100%</span>
                            <button class="toolbar-btn" id="btn-zoom-in" title="Zoom avant">
                                <i class="fas fa-search-plus"></i>
                            </button>
                            <button class="toolbar-btn" id="btn-zoom-fit" title="Ajuster √† la fen√™tre">
                                <i class="fas fa-expand-arrows-alt"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="toolbar-separator"></div>
                    
                    <div class="toolbar-section">
                        <div class="view-modes">
                            <button class="toolbar-btn active" id="btn-edit-mode" title="Mode √©dition">
                                <i class="fas fa-edit"></i>
                                √âdition
                            </button>
                            <button class="toolbar-btn" id="btn-preview-mode" title="Mode aper√ßu">
                                <i class="fas fa-eye"></i>
                                Aper√ßu
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Canvas d'√©dition -->
                <div class="editor-canvas-container">
                    <div id="editor-canvas" class="editor-canvas">
                        <!-- Zone de drop pour les √©l√©ments -->
                        <div class="canvas-dropzone">
                            <div class="dropzone-message">
                                <i class="fas fa-mouse-pointer"></i>
                                <h3>Commencez votre pr√©sentation</h3>
                                <p>Glissez-d√©posez des sections ou widgets depuis la biblioth√®que</p>
                                <div class="dropzone-actions">
                                    <button class="btn btn-primary" id="btn-quick-start">
                                        <i class="fas fa-rocket"></i>
                                        D√©marrage rapide
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Les sections de pr√©sentation appara√Ætront ici -->
                        <div id="presentation-sections" class="presentation-sections">
                            <!-- Contenu dynamique -->
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Sidebar droite : Propri√©t√©s -->
        <aside class="app-sidebar right-sidebar">
            <div class="sidebar-content">
                
                <!-- Onglets des propri√©t√©s -->
                <div class="sidebar-tabs">
                    <button class="sidebar-tab active" data-tab="properties">
                        <i class="fas fa-sliders-h"></i>
                        <span>Propri√©t√©s</span>
                    </button>
                    <button class="sidebar-tab" data-tab="styles">
                        <i class="fas fa-paint-brush"></i>
                        <span>Styles</span>
                    </button>
                    <button class="sidebar-tab" data-tab="history">
                        <i class="fas fa-history"></i>
                        <span>Historique</span>
                    </button>
                </div>
                
                <!-- Contenu des propri√©t√©s -->
                <div class="sidebar-panels">
                    
                    <!-- Panel des propri√©t√©s -->
                    <div id="properties-panel" class="sidebar-panel active">
                        <div class="panel-header">
                            <h3>Propri√©t√©s</h3>
                        </div>
                        
                        <div id="properties-content" class="properties-content">
                            <div class="no-selection-message">
                                <i class="fas fa-hand-pointer"></i>
                                <p>S√©lectionnez un √©l√©ment pour voir ses propri√©t√©s</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Panel des styles -->
                    <div id="styles-panel" class="sidebar-panel">
                        <div class="panel-header">
                            <h3>Styles CSS</h3>
                        </div>
                        
                        <div id="styles-content" class="styles-content">
                            <div class="style-groups">
                                
                                <!-- Groupe Typographie -->
                                <div class="style-group">
                                    <div class="group-header">
                                        <h4>Typographie</h4>
                                        <button class="group-toggle" data-target="typography-controls">
                                            <i class="fas fa-chevron-down"></i>
                                        </button>
                                    </div>
                                    <div id="typography-controls" class="group-content">
                                        <!-- Contr√¥les de typographie -->
                                    </div>
                                </div>
                                
                                <!-- Groupe Espacement -->
                                <div class="style-group">
                                    <div class="group-header">
                                        <h4>Espacement</h4>
                                        <button class="group-toggle" data-target="spacing-controls">
                                            <i class="fas fa-chevron-down"></i>
                                        </button>
                                    </div>
                                    <div id="spacing-controls" class="group-content">
                                        <!-- Contr√¥les d'espacement -->
                                    </div>
                                </div>
                                
                                <!-- Groupe Couleurs -->
                                <div class="style-group">
                                    <div class="group-header">
                                        <h4>Couleurs</h4>
                                        <button class="group-toggle" data-target="colors-controls">
                                            <i class="fas fa-chevron-down"></i>
                                        </button>
                                    </div>
                                    <div id="colors-controls" class="group-content">
                                        <!-- Contr√¥les de couleurs -->
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                    
                    <!-- Panel de l'historique -->
                    <div id="history-panel" class="sidebar-panel">
                        <div class="panel-header">
                            <h3>Historique des Actions</h3>
                            <button class="btn-mini" id="btn-clear-history" title="Vider l'historique">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                        
                        <div id="history-content" class="history-content">
                            <div class="history-list">
                                <!-- Liste des actions sera g√©n√©r√©e dynamiquement -->
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </aside>

    </div>

    <!-- Modals et overlays -->
    
    <!-- Modal de cr√©ation de pr√©sentation -->
    <div id="new-presentation-modal" class="modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h2>Nouvelle Pr√©sentation</h2>
                <button class="modal-close" data-dismiss="modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="new-presentation-form">
                    <div class="form-group">
                        <label for="presentation-title">Titre de la pr√©sentation</label>
                        <input type="text" id="presentation-title" class="form-input" placeholder="Ma nouvelle pr√©sentation" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="presentation-template">Template de base</label>
                        <select id="presentation-template" class="form-select">
                            <option value="blank">Page vide</option>
                            <option value="li-cube-pro">Li-CUBE PRO‚Ñ¢</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="presentation-description">Description (optionnelle)</label>
                        <textarea id="presentation-description" class="form-textarea" placeholder="Description de votre pr√©sentation"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                <button class="btn btn-primary" id="btn-create-presentation">Cr√©er</button>
            </div>
        </div>
    </div>

    <!-- Overlay de chargement -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="loading-spinner">
                <i class="fas fa-sync-alt fa-spin"></i>
            </div>
            <div class="loading-message">
                <span id="loading-text">Chargement...</span>
            </div>
        </div>
    </div>

    <!-- Toast notifications -->
    <div id="toast-container" class="toast-container">
        <!-- Les notifications appara√Ætront ici -->
    </div>

    <!-- Scripts de l'application -->
    
    <!-- Core classes -->
    <script src="src/core/PresentationEngine.js"></script>
    <script src="src/core/HistoryManager.js"></script>
    <script src="src/core/SyncManager.js"></script>
    <script src="src/core/WidgetManager.js"></script>
    <script src="src/core/SectionManager.js"></script>
    <script src="src/core/HierarchyManager.js"></script>
    <script src="src/core/HierarchyElement.js"></script>
    
    <!-- Widgets -->
    <script src="src/widgets/BaseWidget.js"></script>
    <script src="src/widgets/TextWidget.js"></script>
    <script src="src/widgets/ImageWidget.js"></script>
    <script src="src/widgets/ButtonWidget.js"></script>
    <script src="src/widgets/SpacerWidget.js"></script>
    <script src="src/widgets/DividerWidget.js"></script>
    
    <!-- √âditeurs -->
    <script src="src/editors/MainEditor.js"></script>
    
    <!-- Utilitaires -->
    <script src="src/utils/UIUtils.js"></script>
    
    <!-- Script principal -->
    <script>
        // Initialisation de l'application avec diagnostics d√©taill√©s
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üöÄ D√©but d\'initialisation de l\'√©diteur...');
            
            try {
                // Test de disponibilit√© des classes
                console.log('üîç V√©rification des classes disponibles...');
                console.log('PresentationEngine:', typeof PresentationEngine);
                console.log('HistoryManager:', typeof HistoryManager);
                console.log('SyncManager:', typeof SyncManager);
                console.log('WidgetManager:', typeof WidgetManager);
                console.log('SectionManager:', typeof SectionManager);
                console.log('MainEditor:', typeof MainEditor);
                console.log('BaseWidget:', typeof BaseWidget);
                console.log('TextWidget:', typeof TextWidget);
                console.log('ImageWidget:', typeof ImageWidget);
                console.log('ButtonWidget:', typeof ButtonWidget);
                console.log('SpacerWidget:', typeof SpacerWidget);
                console.log('DividerWidget:', typeof DividerWidget);
                console.log('DragDropHelper:', typeof DragDropHelper);
                console.log('UIUtils:', typeof UIUtils);
                
                // V√©rification des classes critiques
                if (typeof PresentationEngine === 'undefined') {
                    throw new Error('PresentationEngine non disponible');
                }
                if (typeof MainEditor === 'undefined') {
                    throw new Error('MainEditor non disponible');
                }
                
                console.log('‚úÖ Toutes les classes sont disponibles');
                
                // Initialisation du moteur principal
                console.log('üîß Initialisation du moteur...');
                const engine = new PresentationEngine();
                console.log('Engine cr√©√©:', engine);
                
                await engine.init();
                console.log('‚úÖ Moteur initialis√©');
                
                // Initialisation de l'√©diteur
                console.log('üé® Initialisation de l\'√©diteur...');
                const editor = new MainEditor(engine);
                console.log('Editor cr√©√©:', editor);
                
                await editor.init();
                console.log('‚úÖ √âditeur initialis√©');
                
                // Rendre disponible globalement pour debugging
                window.PresentationApp = {
                    engine: engine,
                    editor: editor
                };
                
                console.log('‚úÖ Application initialis√©e avec succ√®s');
                
                // Masquer l'overlay de chargement
                const loadingOverlay = document.getElementById('loading-overlay');
                if (loadingOverlay) {
                    loadingOverlay.classList.add('hidden');
                }
                
            } catch (error) {
                console.error('‚ùå Erreur lors de l\'initialisation:', error);
                console.error('Stack trace:', error.stack);
                
                // Afficher un message d'erreur d√©taill√©
                document.body.innerHTML = `
                    <div class="error-screen" style="
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        min-height: 100vh;
                        background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%);
                        color: white;
                        font-family: Inter, sans-serif;
                        padding: 2rem;
                    ">
                        <div class="error-content" style="
                            text-align: center;
                            max-width: 600px;
                            background: rgba(255, 255, 255, 0.05);
                            padding: 3rem;
                            border-radius: 1rem;
                            border: 1px solid rgba(255, 255, 255, 0.1);
                        ">
                            <i class="fas fa-exclamation-triangle" style="
                                font-size: 4rem;
                                color: #EF4444;
                                margin-bottom: 1.5rem;
                            "></i>
                            <h1 style="margin-bottom: 1rem; font-size: 2rem;">Erreur d'Initialisation</h1>
                            <p style="margin-bottom: 1.5rem; opacity: 0.8;">Une erreur s'est produite lors du chargement de l'√©diteur.</p>
                            <div style="
                                background: rgba(0, 0, 0, 0.3);
                                padding: 1rem;
                                border-radius: 0.5rem;
                                margin: 1.5rem 0;
                                text-align: left;
                                font-family: monospace;
                                font-size: 0.9rem;
                                overflow-x: auto;
                            ">
                                <strong>Erreur:</strong> ${error.message}<br>
                                <strong>Type:</strong> ${error.name}<br>
                                ${error.stack ? '<strong>Stack:</strong><br>' + error.stack.replace(/\n/g, '<br>') : ''}
                            </div>
                            <button onclick="location.reload()" style="
                                background: #10B981;
                                color: white;
                                border: none;
                                padding: 1rem 2rem;
                                border-radius: 0.5rem;
                                font-size: 1rem;
                                cursor: pointer;
                                display: inline-flex;
                                align-items: center;
                                gap: 0.5rem;
                            ">
                                <i class="fas fa-refresh"></i>
                                Recharger la page
                            </button>
                            <div style="margin-top: 2rem; font-size: 0.9rem; opacity: 0.6;">
                                Ouvrez la console du navigateur (F12) pour plus de d√©tails.
                            </div>
                        </div>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>