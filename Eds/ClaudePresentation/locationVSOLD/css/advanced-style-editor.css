/**
 * CSS Éditeur de Style Avancé Li-CUBE PRO™
 * Design cohérent avec le système de présentation
 * Répertoire de Travail : C:\Users\Brujah\Documents\GitHub\GeeknDragon\Eds\ClaudePresentation
 */

/* Variables CSS : couleurs et propriétés communes */
:root {
    --style-editor-bg: linear-gradient(135deg, #0F172A 0%, #1E293B 100%);
    --style-editor-border: #3B82F6;
    --style-editor-text: #F8FAFC;
    --style-editor-text-gray: #CBD5E1;
    --style-editor-accent: #60A5FA;
    --style-editor-success: #10B981;
    --style-editor-warning: #F59E0B;
    --style-editor-error: #EF4444;
    --style-editor-shadow: 0 20px 40px rgba(0,0,0,0.8);
    --style-editor-radius: 12px;
}

/* Panneau principal : conteneur de l'éditeur de style */
#advanced-style-panel {
    /* Positionnement : centré à l'écran */
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    
    /* Dimensions : taille adaptative */
    width: 420px;
    max-height: 90vh;
    overflow-y: auto;
    
    /* Apparence : design moderne et professionnel */
    background: var(--style-editor-bg);
    border: 2px solid var(--style-editor-border);
    border-radius: 16px;
    box-shadow: var(--style-editor-shadow);
    
    /* Hiérarchie : toujours au premier plan */
    z-index: 10000;
    
    /* Typographie : police et couleur par défaut */
    color: var(--style-editor-text);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    
    /* Animation : transition fluide d'apparition */
    opacity: 0;
    animation: styleEditorFadeIn 0.3s ease-out forwards;
}

/* Animation : effet d'apparition du panneau */
@keyframes styleEditorFadeIn {
    from { 
        opacity: 0; 
        transform: translate(-50%, -60%); 
    }
    to { 
        opacity: 1; 
        transform: translate(-50%, -50%); 
    }
}

/* En-tête : barre de titre avec bouton de fermeture */
.style-panel-header {
    /* Disposition : titre à gauche, bouton à droite */
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    /* Espacement et bordure : séparation visuelle */
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(59, 130, 246, 0.2);
    
    /* Arrière-plan : légèrement plus sombre que le contenu */
    background: rgba(15, 23, 42, 0.8);
    border-radius: 14px 14px 0 0;
}

.style-panel-header h3 {
    /* Titre : police et espacement */
    margin: 0;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--style-editor-accent);
}

/* Bouton de fermeture : icône X en haut à droite */
.close-panel-btn {
    /* Apparence : bouton rond avec bordure */
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid #EF4444;
    border-radius: 50%;
    
    /* Dimensions : taille fixe pour l'icône */
    width: 32px;
    height: 32px;
    
    /* Typographie : couleur et centrage */
    color: #EF4444;
    font-size: 18px;
    font-weight: bold;
    
    /* Interaction : curseur et transition */
    cursor: pointer;
    transition: all 0.2s ease;
    
    /* Alignement : centrage parfait du contenu */
    display: flex;
    align-items: center;
    justify-content: center;
}

.close-panel-btn:hover {
    /* Survol : intensification des couleurs */
    background: rgba(239, 68, 68, 0.2);
    transform: scale(1.1);
}

/* Contenu : zone principale de l'éditeur */
.style-panel-content {
    /* Espacement : marges internes */
    padding: 1.5rem;
    
    /* Défilement : gestion du contenu débordant */
    max-height: calc(90vh - 80px);
    overflow-y: auto;
}

/* Information de l'élément : affichage de la cible d'édition */
.current-element-info {
    /* Disposition : étiquettes côte à côte */
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    
    /* Séparation visuelle : bordure en bas */
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(203, 213, 225, 0.1);
}

.element-tag, .element-field {
    /* Apparence : étiquettes colorées */
    background: rgba(96, 165, 250, 0.1);
    border: 1px solid var(--style-editor-accent);
    border-radius: 6px;
    
    /* Espacement : padding interne */
    padding: 0.25rem 0.5rem;
    
    /* Typographie : police réduite */
    font-size: 0.8rem;
    font-family: monospace;
    color: var(--style-editor-accent);
}

/* Section de style : groupement d'options */
.style-section {
    /* Espacement : marges entre sections */
    margin-bottom: 2rem;
    
    /* Arrière-plan : légère coloration */
    background: rgba(30, 41, 59, 0.3);
    border-radius: var(--style-editor-radius);
    padding: 1.5rem;
    
    /* Bordure : délimitation subtile */
    border: 1px solid rgba(59, 130, 246, 0.1);
}

.style-section h4 {
    /* Titre de section : accentuation */
    margin: 0 0 1rem 0;
    font-size: 1rem;
    font-weight: 600;
    color: var(--style-editor-success);
    
    /* Séparation : bordure en bas */
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(16, 185, 129, 0.2);
}

/* Contrôles de couleur : palette et sélecteurs */
.color-controls {
    /* Disposition : sections verticales */
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

/* États de couleur : boutons normal/survol/actif */
.color-states {
    /* Disposition : boutons horizontaux */
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.color-state-btn {
    /* Apparence : bouton avec bordure */
    background: rgba(96, 165, 250, 0.1);
    border: 1px solid var(--style-editor-accent);
    border-radius: 6px;
    
    /* Espacement : padding uniforme */
    padding: 0.5rem 1rem;
    
    /* Typographie : couleur et taille */
    color: var(--style-editor-text);
    font-size: 0.85rem;
    font-weight: 500;
    
    /* Interaction : curseur et transition */
    cursor: pointer;
    transition: all 0.2s ease;
}

.color-state-btn.active {
    /* État actif : surbrillance */
    background: var(--style-editor-accent);
    color: #0F172A;
    font-weight: 600;
}

.color-state-btn:hover:not(.active) {
    /* Survol : amélioration visuelle */
    background: rgba(96, 165, 250, 0.2);
}

/* Entrées de couleur : sélecteurs par propriété */
.color-inputs {
    /* Disposition : lignes verticales */
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.color-row {
    /* Disposition : label, sélecteur, pipette */
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.color-row label {
    /* Label : largeur fixe pour l'alignement */
    width: 80px;
    font-size: 0.9rem;
    color: var(--style-editor-text-gray);
}

/* Sélecteur de couleur : input natif amélioré */
.color-picker {
    /* Dimensions : taille standard */
    width: 40px;
    height: 32px;
    
    /* Apparence : sans bordure, coins arrondis */
    border: 2px solid var(--style-editor-border);
    border-radius: 6px;
    background: transparent;
    
    /* Interaction : curseur pointeur */
    cursor: pointer;
    
    /* Transition : animation fluide */
    transition: border-color 0.2s ease;
}

.color-picker:hover {
    /* Survol : bordure accentuée */
    border-color: var(--style-editor-accent);
}

/* Bouton pipette : outil de sélection de couleur */
.pipette-btn {
    /* Apparence : bouton circulaire */
    background: rgba(245, 158, 11, 0.1);
    border: 1px solid var(--style-editor-warning);
    border-radius: 50%;
    
    /* Dimensions : taille d'icône */
    width: 32px;
    height: 32px;
    
    /* Typographie : emoji et couleur */
    color: var(--style-editor-warning);
    font-size: 14px;
    
    /* Interaction : curseur et transition */
    cursor: pointer;
    transition: all 0.2s ease;
    
    /* Alignement : centrage du contenu */
    display: flex;
    align-items: center;
    justify-content: center;
}

.pipette-btn:hover {
    /* Survol : effet d'agrandissement */
    background: rgba(245, 158, 11, 0.2);
    transform: scale(1.1);
}

/* Palette de couleurs : nuancier de couleurs prédéfinies */
.color-palette {
    /* Disposition : grille de couleurs */
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.5rem;
    
    /* Espacement : marge supérieure */
    margin-top: 1rem;
}

/* Échantillon de couleur : carré coloré cliquable */
.color-swatch {
    /* Dimensions : carrés uniformes */
    width: 32px;
    height: 32px;
    
    /* Apparence : bordure et coins arrondis */
    border: 2px solid transparent;
    border-radius: 6px;
    
    /* Interaction : curseur pointeur */
    cursor: pointer;
    
    /* Transition : animation au survol */
    transition: all 0.2s ease;
}

.color-swatch:hover {
    /* Survol : bordure et agrandissement */
    border-color: var(--style-editor-text);
    transform: scale(1.1);
}

/* Contrôles de typographie : police, taille, style */
.typography-controls {
    /* Disposition : sections verticales */
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

/* Ligne de contrôle : label et input alignés */
.control-row {
    /* Disposition : éléments horizontaux */
    display: flex;
    align-items: center;
    gap: 1rem;
}

.control-row label {
    /* Label : largeur fixe */
    width: 80px;
    font-size: 0.9rem;
    color: var(--style-editor-text-gray);
}

/* Sélecteur de police : menu déroulant */
.font-family-select, .font-weight-select {
    /* Dimensions : largeur flexible */
    flex: 1;
    
    /* Apparence : style cohérent */
    background: rgba(30, 41, 59, 0.6);
    border: 1px solid rgba(96, 165, 250, 0.3);
    border-radius: 6px;
    
    /* Espacement : padding interne */
    padding: 0.5rem;
    
    /* Typographie : couleur et police */
    color: var(--style-editor-text);
    font-size: 0.9rem;
}

/* Curseur de taille : input range stylisé */
.font-size-slider {
    /* Dimensions : largeur flexible */
    flex: 1;
    
    /* Apparence : curseur personnalisé */
    -webkit-appearance: none;
    height: 6px;
    border-radius: 3px;
    background: rgba(96, 165, 250, 0.3);
    outline: none;
}

/* Poignée du curseur : bouton de contrôle */
.font-size-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    
    /* Dimensions : cercle de contrôle */
    width: 18px;
    height: 18px;
    border-radius: 50%;
    
    /* Apparence : couleur et bordure */
    background: var(--style-editor-accent);
    border: 2px solid #0F172A;
    
    /* Interaction : curseur pointeur */
    cursor: pointer;
}

/* Affichage de taille : valeur numérique */
.font-size-display {
    /* Largeur : affichage compact */
    width: 50px;
    text-align: center;
    
    /* Apparence : fond et bordure */
    background: rgba(96, 165, 250, 0.1);
    border: 1px solid var(--style-editor-accent);
    border-radius: 4px;
    padding: 0.25rem;
    
    /* Typographie : police monospace */
    font-family: monospace;
    font-size: 0.8rem;
}

/* Boutons de style : italique, souligné, barré */
.font-style-buttons {
    /* Disposition : boutons côte à côte */
    display: flex;
    gap: 0.5rem;
}

.style-toggle-btn {
    /* Apparence : bouton carré */
    background: rgba(96, 165, 250, 0.1);
    border: 1px solid var(--style-editor-accent);
    border-radius: 6px;
    
    /* Dimensions : taille uniforme */
    width: 36px;
    height: 36px;
    
    /* Typographie : symboles et couleur */
    color: var(--style-editor-text);
    font-size: 16px;
    font-weight: bold;
    
    /* Interaction : curseur et transition */
    cursor: pointer;
    transition: all 0.2s ease;
    
    /* Alignement : centrage du contenu */
    display: flex;
    align-items: center;
    justify-content: center;
}

.style-toggle-btn.active {
    /* État actif : surbrillance */
    background: var(--style-editor-accent);
    color: #0F172A;
}

.style-toggle-btn:hover:not(.active) {
    /* Survol : effet visuel */
    background: rgba(96, 165, 250, 0.2);
}

/* Contrôles d'alignement : boutons de justification */
.alignment-controls {
    /* Disposition : sections verticales */
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Boutons d'alignement : justification du texte */
.text-align-buttons {
    /* Disposition : boutons horizontaux */
    display: flex;
    gap: 0.5rem;
    justify-content: center;
}

.align-btn {
    /* Apparence : bouton avec icône */
    background: rgba(96, 165, 250, 0.1);
    border: 1px solid var(--style-editor-accent);
    border-radius: 6px;
    
    /* Dimensions : taille uniforme */
    width: 40px;
    height: 40px;
    
    /* Typographie : symboles d'alignement */
    color: var(--style-editor-text);
    font-size: 18px;
    
    /* Interaction : curseur et transition */
    cursor: pointer;
    transition: all 0.2s ease;
    
    /* Alignement : centrage des icônes */
    display: flex;
    align-items: center;
    justify-content: center;
}

.align-btn.active {
    /* État actif : surbrillance */
    background: var(--style-editor-success);
    color: #0F172A;
}

.align-btn:hover:not(.active) {
    /* Survol : effet visuel */
    background: rgba(96, 165, 250, 0.2);
}

/* Contrôles de position : coordonnées et mode */
.position-controls {
    /* Disposition : sections horizontales */
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

/* Entrées de position : coordonnées X et Y */
.position-inputs {
    /* Disposition : inputs verticaux */
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    flex: 1;
}

/* Ligne de coordonnée : label, input, unité */
.coord-row {
    /* Disposition : éléments horizontaux */
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.coord-row label {
    /* Label : largeur minimale */
    width: 20px;
    font-size: 0.9rem;
    color: var(--style-editor-text-gray);
}

/* Input de position : champ numérique */
.position-input {
    /* Dimensions : largeur flexible */
    flex: 1;
    
    /* Apparence : champ de saisie */
    background: rgba(30, 41, 59, 0.6);
    border: 1px solid rgba(96, 165, 250, 0.3);
    border-radius: 4px;
    
    /* Espacement : padding interne */
    padding: 0.4rem;
    
    /* Typographie : couleur et police */
    color: var(--style-editor-text);
    font-size: 0.9rem;
}

.coord-row span {
    /* Unité : affichage de l'unité de mesure */
    font-size: 0.8rem;
    color: var(--style-editor-text-gray);
}

/* Mode de position : sélecteur CSS position */
.position-mode {
    /* Largeur : taille réduite */
    width: 100px;
}

.position-select {
    /* Apparence : cohérente avec les autres sélecteurs */
    width: 100%;
    background: rgba(30, 41, 59, 0.6);
    border: 1px solid rgba(96, 165, 250, 0.3);
    border-radius: 6px;
    padding: 0.5rem;
    color: var(--style-editor-text);
    font-size: 0.85rem;
}

/* Contrôles d'espacement : marges et padding */
.spacing-controls {
    /* Disposition : groupes verticaux */
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Groupe d'espacement : marges ou padding */
.spacing-group label {
    /* Label : affichage en bloc */
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    color: var(--style-editor-text-gray);
}

/* Inputs d'espacement : grille 2x2 */
.spacing-inputs {
    /* Disposition : grille de 4 champs */
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
}

/* Input d'espacement : champ numérique */
.spacing-input {
    /* Apparence : champ de saisie compact */
    background: rgba(30, 41, 59, 0.6);
    border: 1px solid rgba(96, 165, 250, 0.3);
    border-radius: 4px;
    
    /* Espacement : padding réduit */
    padding: 0.4rem;
    
    /* Typographie : couleur et taille */
    color: var(--style-editor-text);
    font-size: 0.85rem;
    text-align: center;
}

/* Actions de style : boutons de contrôle */
.style-actions {
    /* Disposition : boutons horizontaux */
    display: flex;
    gap: 0.75rem;
    
    /* Positionnement : en bas du panneau */
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(203, 213, 225, 0.1);
}

/* Boutons d'action : contrôles principaux */
.style-actions button {
    /* Dimensions : taille flexible */
    flex: 1;
    
    /* Apparence : bouton moderne */
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid var(--style-editor-success);
    border-radius: 8px;
    
    /* Espacement : padding généreux */
    padding: 0.75rem 1rem;
    
    /* Typographie : couleur et taille */
    color: var(--style-editor-success);
    font-size: 0.9rem;
    font-weight: 600;
    
    /* Interaction : curseur et transition */
    cursor: pointer;
    transition: all 0.2s ease;
}

/* Bouton de réinitialisation : couleur d'attention */
.reset-styles-btn {
    background: rgba(239, 68, 68, 0.1) !important;
    border-color: var(--style-editor-error) !important;
    color: var(--style-editor-error) !important;
}

/* Effets au survol : amélioration visuelle */
.style-actions button:hover {
    /* Survol : intensification des couleurs */
    background: rgba(16, 185, 129, 0.2);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
}

.reset-styles-btn:hover {
    /* Survol spécifique : bouton de réinitialisation */
    background: rgba(239, 68, 68, 0.2) !important;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2) !important;
}

/* Styles responsives : adaptation mobile */
@media (max-width: 480px) {
    #advanced-style-panel {
        /* Mobile : largeur adaptée */
        width: 95vw;
        max-width: 380px;
    }
    
    .color-palette {
        /* Mobile : grille réduite */
        grid-template-columns: repeat(4, 1fr);
    }
    
    .style-actions {
        /* Mobile : boutons empilés */
        flex-direction: column;
    }
    
    .position-controls {
        /* Mobile : disposition verticale */
        flex-direction: column;
    }
}

/* États personnalisés : classes d'assistance */
.style-editor-hidden {
    display: none !important;
}

.style-editor-disabled {
    opacity: 0.5;
    pointer-events: none;
}

/* Scrollbar personnalisée : style cohérent */
.style-panel-content::-webkit-scrollbar {
    width: 6px;
}

.style-panel-content::-webkit-scrollbar-track {
    background: rgba(30, 41, 59, 0.3);
    border-radius: 3px;
}

.style-panel-content::-webkit-scrollbar-thumb {
    background: var(--style-editor-accent);
    border-radius: 3px;
}

.style-panel-content::-webkit-scrollbar-thumb:hover {
    background: var(--style-editor-text);
}