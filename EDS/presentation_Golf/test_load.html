<!DOCTYPE html>
<html>
<head>
    <title>Test de chargement CSV</title>
</head>
<body>
    <h1>Test de chargement</h1>
    <div id="status">Chargement...</div>
    <div id="details"></div>

    <script>
    async function testLoad() {
        const statusDiv = document.getElementById('status');
        const detailsDiv = document.getElementById('details');

        try {
            // Test chargement data_clean.csv
            console.log('Test chargement data_clean.csv...');
            const response = await fetch('data_clean.csv');
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            const text = await response.text();
            console.log('Données chargées:', text.substring(0, 500));

            statusDiv.innerHTML = '<span style="color: green;">✅ Chargement réussi!</span>';
            detailsDiv.innerHTML = `
                <h3>Première partie du fichier:</h3>
                <pre style="background: #f0f0f0; padding: 10px; white-space: pre-wrap;">${text.substring(0, 1000)}</pre>
            `;

        } catch (error) {
            console.error('Erreur:', error);
            statusDiv.innerHTML = '<span style="color: red;">❌ Erreur de chargement</span>';
            detailsDiv.innerHTML = `<p style="color: red;">Erreur: ${error.message}</p>`;
        }
    }

    // Démarrer le test
    testLoad();
    </script>
</body>
</html>