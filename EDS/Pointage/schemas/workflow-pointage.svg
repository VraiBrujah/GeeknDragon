<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="750" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: #34495e; }
      .process { fill: #3498db; stroke: #2980b9; stroke-width: 2; rx: 10; }
      .decision { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .storage { fill: #f39c12; stroke: #e67e22; stroke-width: 2; rx: 8; }
      .start-end { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; rx: 25; }
      .calculation { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; rx: 8; }
      .text-white { fill: white; font-family: Arial, sans-serif; font-size: 11px; font-weight: bold; }
      .text-small { fill: white; font-family: Arial, sans-serif; font-size: 10px; }
      .arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .arrow-curved { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); stroke-dasharray: 5,5; }
      .label { fill: #2c3e50; font-family: Arial, sans-serif; font-size: 10px; font-weight: bold; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
  </defs>
  
  <!-- Titre -->
  <text x="500" y="30" text-anchor="middle" class="title">üè† Workflow Complet Suivi Construction MAISON</text>
  
  <!-- D√©but -->
  <ellipse cx="500" cy="80" rx="70" ry="30" class="start-end" />
  <text x="500" y="85" text-anchor="middle" class="text-white">D√âBUT</text>
  
  <!-- Choix type saisie -->
  <polygon points="500,120 560,150 500,180 440,150" class="decision" />
  <text x="500" y="145" text-anchor="middle" class="text-white">Type</text>
  <text x="500" y="158" text-anchor="middle" class="text-white">Saisie?</text>
  
  <!-- Branch Main-d'≈ìuvre -->
  <rect x="200" y="200" width="180" height="50" class="process" />
  <text x="290" y="220" text-anchor="middle" class="text-white">üë∑ MAIN-D'≈íUVRE</text>
  <text x="290" y="235" text-anchor="middle" class="text-small">Pointage artisan/heures</text>
  
  <!-- Branch Mat√©riaux -->
  <rect x="620" y="200" width="180" height="50" class="process" />
  <text x="710" y="220" text-anchor="middle" class="text-white">üßæ MAT√âRIAUX</text>
  <text x="710" y="235" text-anchor="middle" class="text-small">Facture fournisseur</text>
  
  <!-- Saisie Main-d'≈ìuvre -->
  <rect x="150" y="280" width="200" height="80" class="process" />
  <text x="250" y="300" text-anchor="middle" class="text-white">Saisie Travaux</text>
  <text x="160" y="315" class="text-small">‚Ä¢ Date + Artisan</text>
  <text x="160" y="328" class="text-small">‚Ä¢ Heures: 8h00 ‚Üí 16h30</text>
  <text x="160" y="341" class="text-small">‚Ä¢ Type: Charpente</text>
  <text x="160" y="354" class="text-small">‚Ä¢ Photos progression</text>
  
  <!-- Saisie Mat√©riaux -->
  <rect x="620" y="280" width="200" height="80" class="process" />
  <text x="720" y="300" text-anchor="middle" class="text-white">Saisie Facture</text>
  <text x="630" y="315" class="text-small">‚Ä¢ Photo facture</text>
  <text x="630" y="328" class="text-small">‚Ä¢ Fournisseur + Montant</text>
  <text x="630" y="341" class="text-small">‚Ä¢ Cat√©gorie: Bois</text>
  <text x="630" y="354" class="text-small">‚Ä¢ Date achat</text>
  
  <!-- Calcul automatique -->
  <rect x="400" y="390" width="200" height="70" class="calculation" />
  <text x="500" y="410" text-anchor="middle" class="text-white">Calcul Automatique</text>
  <text x="410" y="425" class="text-small">‚Ä¢ Co√ªt main-d'≈ìuvre</text>
  <text x="410" y="438" class="text-small">‚Ä¢ Co√ªt mat√©riaux</text>
  <text x="410" y="451" class="text-small">‚Ä¢ TOTAL MAISON temps r√©el</text>
  
  <!-- Sauvegarde + Calculs -->
  <rect x="650" y="390" width="180" height="70" class="storage" />
  <text x="740" y="415" text-anchor="middle" class="text-white">Sauvegarde Auto</text>
  <text x="660" y="430" class="text-small">‚Ä¢ JSON Local</text>
  <text x="660" y="443" class="text-small">‚Ä¢ Backup photos</text>
  <text x="660" y="456" class="text-small">‚Ä¢ Temps r√©el</text>
  
  <!-- Gestion Paiements -->
  <polygon points="500,480 560,510 500,540 440,510" class="decision" />
  <text x="500" y="505" text-anchor="middle" class="text-white">Paiement</text>
  <text x="500" y="518" text-anchor="middle" class="text-white">√† saisir?</text>
  
  <!-- Saisie paiement -->
  <rect x="650" y="480" width="180" height="60" class="process" />
  <text x="740" y="500" text-anchor="middle" class="text-white">Saisie Paiement</text>
  <text x="660" y="515" class="text-small">‚Ä¢ Acompte artisan OU</text>
  <text x="660" y="528" class="text-small">‚Ä¢ Paiement fournisseur</text>
  
  <!-- Rapports -->
  <polygon points="500,560 560,590 500,620 440,590" class="decision" />
  <text x="500" y="585" text-anchor="middle" class="text-white">G√©n√©rer</text>
  <text x="500" y="598" text-anchor="middle" class="text-white">Rapport?</text>
  
  <!-- Rapport Maison -->
  <rect x="650" y="560" width="180" height="60" class="process" />
  <text x="740" y="580" text-anchor="middle" class="text-white">Rapport Maison</text>
  <text x="660" y="595" class="text-small">‚Ä¢ PDF banque/assurance</text>
  <text x="660" y="608" class="text-small">‚Ä¢ Avancement + photos</text>
  
  <!-- Exemple Maison -->
  <rect x="50" y="480" width="320" height="140" class="storage" />
  <text x="210" y="500" text-anchor="middle" class="text-white">üè† Exemple MAISON Compl√®te</text>
  <text x="60" y="520" class="text-small">MAIN-D'≈íUVRE: Jean(Charp TTC) 8h√ó35$=280$ + Marie(√âlec HT+tax) 6h√ó34$=233$</text>
  <text x="60" y="533" class="text-small">MAT√âRIAUX: R√©no-D√©p√¥t bois 1,850$ + √âlectro-D√©p√¥t 650$</text>
  <text x="60" y="546" class="text-small">CO√õT JOUR: 280$+233$+1,850$+650$ = 3,013$</text>
  <text x="60" y="559" class="text-small">PAIEMENTS: Acompte Jean 200$ + Facture R√©no-D√©p√¥t 1,850$</text>
  <text x="60" y="572" class="text-small">SOLDE D√õ: 3,013$ - 2,050$ = 963$ restant</text>
  <text x="60" y="585" class="text-small">AVANCEMENT: +3% maison (Charpente 85% termin√©e)</text>
  <text x="60" y="598" class="text-small">PHOTOS: 8 progression + 2 factures = 10 total jour</text>
  <text x="60" y="611" class="text-small">RAPPORT PDF g√©n√©r√© pour banque et assurance</text>
  
  <!-- Fin -->
  <ellipse cx="500" cy="690" rx="70" ry="30" class="start-end" />
  <text x="500" y="695" text-anchor="middle" class="text-white">FIN</text>
  
  <!-- Fl√®ches principales -->
  <line x1="500" y1="110" x2="500" y2="120" class="arrow" />
  <line x1="440" y1="150" x2="290" y2="200" class="arrow" />
  <line x1="560" y1="150" x2="710" y2="200" class="arrow" />
  <line x1="290" y1="250" x2="250" y2="280" class="arrow" />
  <line x1="710" y1="250" x2="720" y2="280" class="arrow" />
  <line x1="350" y1="330" x2="400" y2="400" class="arrow" />
  <line x1="620" y1="330" x2="600" y2="400" class="arrow" />
  <line x1="500" y1="460" x2="500" y2="480" class="arrow" />
  <line x1="500" y1="540" x2="500" y2="560" class="arrow" />
  <line x1="500" y1="620" x2="500" y2="660" class="arrow" />
  
  <!-- Sauvegarde automatique -->
  <line x1="600" y1="425" x2="650" y2="425" class="arrow" />
  
  <!-- Vers paiements -->
  <line x1="560" y1="510" x2="650" y2="510" class="arrow" />
  
  <!-- Vers rapports -->
  <line x1="560" y1="590" x2="650" y2="590" class="arrow" />
  
  <!-- Boucle nouvelle saisie -->
  <path d="M 440 590 Q 50 590 50 150 Q 50 120 440 150" class="arrow-curved" />
  
  <!-- Labels -->
  <text x="350" y="140" class="label">Main-d'≈ìuvre</text>
  <text x="590" y="140" class="label">Mat√©riaux</text>
  <text x="570" y="500" class="label">OUI</text>
  <text x="570" y="580" class="label">OUI</text>
  <text x="480" y="650" class="label">NON</text>
  <text x="25" y="350" class="label">Nouvelle saisie</text>
  
  <!-- Zone temps r√©el -->
  <rect x="850" y="300" width="140" height="120" class="storage" />
  <text x="920" y="320" text-anchor="middle" class="text-white">‚è±Ô∏è TEMPS R√âEL</text>
  <text x="860" y="335" class="text-small">‚Ä¢ Calculs instantan√©s</text>
  <text x="860" y="348" class="text-small">‚Ä¢ Sauvegarde auto</text>
  <text x="860" y="361" class="text-small">‚Ä¢ Soldes mis √† jour</text>
  <text x="860" y="374" class="text-small">‚Ä¢ Avancement %</text>
  <text x="860" y="387" class="text-small">‚Ä¢ Photos backup</text>
  <text x="860" y="400" class="text-small">‚Ä¢ Z√©ro perte donn√©es</text>
  
  <!-- Connexion temps r√©el -->
  <line x1="830" y1="425" x2="850" y2="360" class="arrow-curved" />
</svg>